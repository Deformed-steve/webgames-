<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>webOSRS</title>
    <!-- Google Font: Source Sans Pro -->
  <style type="text/css">@font-face {font-family:Source Sans Pro;font-style:normal;font-weight:300;src:url(/cf-fonts/s/source-sans-pro/5.0.11/cyrillic/300/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:fallback;}@font-face {font-family:Source Sans Pro;font-style:normal;font-weight:300;src:url(/cf-fonts/s/source-sans-pro/5.0.11/cyrillic-ext/300/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:fallback;}@font-face {font-family:Source Sans Pro;font-style:normal;font-weight:300;src:url(/cf-fonts/s/source-sans-pro/5.0.11/latin-ext/300/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:fallback;}@font-face {font-family:Source Sans Pro;font-style:normal;font-weight:300;src:url(/cf-fonts/s/source-sans-pro/5.0.11/vietnamese/300/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:fallback;}@font-face {font-family:Source Sans Pro;font-style:normal;font-weight:300;src:url(/cf-fonts/s/source-sans-pro/5.0.11/latin/300/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:fallback;}@font-face {font-family:Source Sans Pro;font-style:normal;font-weight:300;src:url(/cf-fonts/s/source-sans-pro/5.0.11/greek-ext/300/normal.woff2);unicode-range:U+1F00-1FFF;font-display:fallback;}@font-face {font-family:Source Sans Pro;font-style:normal;font-weight:300;src:url(/cf-fonts/s/source-sans-pro/5.0.11/greek/300/normal.woff2);unicode-range:U+0370-03FF;font-display:fallback;}@font-face {font-family:Source Sans Pro;font-style:normal;font-weight:400;src:url(/cf-fonts/s/source-sans-pro/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:fallback;}@font-face {font-family:Source Sans Pro;font-style:normal;font-weight:400;src:url(/cf-fonts/s/source-sans-pro/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:fallback;}@font-face {font-family:Source Sans Pro;font-style:normal;font-weight:400;src:url(/cf-fonts/s/source-sans-pro/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:fallback;}@font-face {font-family:Source Sans Pro;font-style:normal;font-weight:400;src:url(/cf-fonts/s/source-sans-pro/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:fallback;}@font-face {font-family:Source Sans Pro;font-style:normal;font-weight:400;src:url(/cf-fonts/s/source-sans-pro/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:fallback;}@font-face {font-family:Source Sans Pro;font-style:normal;font-weight:400;src:url(/cf-fonts/s/source-sans-pro/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:fallback;}@font-face {font-family:Source Sans Pro;font-style:normal;font-weight:400;src:url(/cf-fonts/s/source-sans-pro/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:fallback;}@font-face {font-family:Source Sans Pro;font-style:italic;font-weight:400;src:url(/cf-fonts/s/source-sans-pro/5.0.11/cyrillic/400/italic.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:fallback;}@font-face {font-family:Source Sans Pro;font-style:italic;font-weight:400;src:url(/cf-fonts/s/source-sans-pro/5.0.11/latin/400/italic.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:fallback;}@font-face {font-family:Source Sans Pro;font-style:italic;font-weight:400;src:url(/cf-fonts/s/source-sans-pro/5.0.11/latin-ext/400/italic.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:fallback;}@font-face {font-family:Source Sans Pro;font-style:italic;font-weight:400;src:url(/cf-fonts/s/source-sans-pro/5.0.11/greek-ext/400/italic.woff2);unicode-range:U+1F00-1FFF;font-display:fallback;}@font-face {font-family:Source Sans Pro;font-style:italic;font-weight:400;src:url(/cf-fonts/s/source-sans-pro/5.0.11/vietnamese/400/italic.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:fallback;}@font-face {font-family:Source Sans Pro;font-style:italic;font-weight:400;src:url(/cf-fonts/s/source-sans-pro/5.0.11/greek/400/italic.woff2);unicode-range:U+0370-03FF;font-display:fallback;}@font-face {font-family:Source Sans Pro;font-style:italic;font-weight:400;src:url(/cf-fonts/s/source-sans-pro/5.0.11/cyrillic-ext/400/italic.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:fallback;}@font-face {font-family:Source Sans Pro;font-style:normal;font-weight:700;src:url(/cf-fonts/s/source-sans-pro/5.0.11/greek-ext/700/normal.woff2);unicode-range:U+1F00-1FFF;font-display:fallback;}@font-face {font-family:Source Sans Pro;font-style:normal;font-weight:700;src:url(/cf-fonts/s/source-sans-pro/5.0.11/latin-ext/700/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:fallback;}@font-face {font-family:Source Sans Pro;font-style:normal;font-weight:700;src:url(/cf-fonts/s/source-sans-pro/5.0.11/cyrillic/700/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:fallback;}@font-face {font-family:Source Sans Pro;font-style:normal;font-weight:700;src:url(/cf-fonts/s/source-sans-pro/5.0.11/vietnamese/700/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:fallback;}@font-face {font-family:Source Sans Pro;font-style:normal;font-weight:700;src:url(/cf-fonts/s/source-sans-pro/5.0.11/greek/700/normal.woff2);unicode-range:U+0370-03FF;font-display:fallback;}@font-face {font-family:Source Sans Pro;font-style:normal;font-weight:700;src:url(/cf-fonts/s/source-sans-pro/5.0.11/cyrillic-ext/700/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:fallback;}@font-face {font-family:Source Sans Pro;font-style:normal;font-weight:700;src:url(/cf-fonts/s/source-sans-pro/5.0.11/latin/700/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:fallback;}</style>
  <!-- Font Awesome -->
  <link rel="stylesheet" href="plugins/fontawesome-free/css/pro.all.min.css">
  <!-- Theme style -->
  <link rel="stylesheet" href="dist/css/adminlte.min.css">
  <link rel="stylesheet" href="dist/css/main.css">
  <!-- overlayScrollbars -->
  <link rel="stylesheet" href="plugins/overlayScrollbars/css/OverlayScrollbars.min.css">
  <link rel="stylesheet" href="plugins/toastr/toastr.min.css">
  <link rel="stylesheet" href="plugins/ambiance/ambiance.min.css?v=1.22">
  <link rel="stylesheet" href="bugs/resources/css/site.css?v3">

  <link rel="prefetch" href="dist/img/osrs/bg/rsbg.jpg" as="image">
  <link rel="prefetch" href="dist/img/osrs/osrs-login-screen.png" as="image">
  <link rel="prefetch" href="dist/img/osrs/clients/runelite.jpg" as="image">
  <link rel="prefetch" href="dist/img/osrs/clients/osbuddy.png" as="image">
  <link rel="prefetch" href="dist/img/osrs/clients/jagex.png" as="image">

  <script src="plugins/introjs/intro.min.js"></script>
  <link href="plugins/introjs/introjs.min.css" rel="stylesheet">

  <meta name="keywords" content="runescape, osrs, webosrs, web oldschool runescape, web runescape, web rs3, osrs browser, runescape browser, oldschool runescape browser" />
<meta name="author" content="PR0TEIN" />
<meta property="og:title" content="webOSRS" />
<meta name="description" content="OSRS in the Cloud! The ultimate cloud-based platform for playing Oldschool RuneScape like never before! Experience the freedom of accessing your favorite approved clients all from the comfort of your web browser." />
<meta property="og:description" content="OSRS in the Cloud! The ultimate cloud-based platform for playing Oldschool RuneScape like never before! Experience the freedom of accessing your favorite approved clients all from the comfort of your web browser." />

<meta property="og:url" content="https://webosrs.com">
<meta property="og:type" content="website">

<meta itemprop="thumbnailURL" content="https://webosrs.com/dist/img/preview-img.jpg" />
<meta itemprop="image" content="https://webosrs.com/dist/img/preview-img.jpg" />
<meta property="og:image" content="https://webosrs.com/dist/img/preview-img.jpg" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="webOSRS">
<meta name="twitter:description" content="OSRS in the Cloud! The ultimate cloud-based platform for playing Oldschool RuneScape like never before! Experience the freedom of accessing your favorite approved clients all from the comfort of your web browser.">
<meta name="twitter:image" content="https://webosrs.com/dist/img/preview-img.jpg">

<meta property="og:site_name" content="webOSRS">

<link rel="apple-touch-icon" sizes="180x180" href="dist/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="dist/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="dist/img/favicons/favicon-16x16.png">
<link rel="manifest" href="dist/img/favicons/site.webmanifest">
<link rel="mask-icon" href="dist/img/favicons/safari-pinned-tab.svg" color="#5bbad5">
<link rel="shortcut icon" href="dist/img/favicons/favicon.ico">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="dist/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">
  <style>
  :root {
    --color-default: #0a0d13;
    --color-primary: #bc955f; /*#b67118*/
    --color-primary2: #886841;
    --color-primary3: #493822;
    --color-secondary: #333; /*#0e1d34;*/
    --bg-color-primary: #333;
  }
    body, html { overflow:hidden }
    .bg-dark, .sidebar-dark-primary, .navbar-dark { background: #212529!important }
    .content-wrapper.iframe-mode .navbar-nav .nav-item { 
      border-left:1px solid #606060;border-right:1px solid #606060; background:#101010;
      -webkit-touch-callout: none; /* iOS Safari */
      -webkit-user-select: none; /* Safari */
      -khtml-user-select: none; /* Konqueror HTML */
      -moz-user-select: none; /* Old versions of Firefox */
      -ms-user-select: none; /* Internet Explorer/Edge */
      user-select: none; /* Non-prefixed version, currently */
      min-width:120px;
      text-align:center;
    }
    .nav-sidebar .nav-item .active {
      color: #fff; 
      /*background-color: #6c757d!important;*/
      background-color: rgba(90, 90, 90, 0.45)!important;
      box-shadow: none;
      border:0px solid #6c757d!important;
      font-weight:bold;
    }
    .content-wrapper.iframe-mode .navbar-nav .nav-item .active {
      background-color: transparent !important;;
      /* background-image: url('dist/img/home/bg-tile-btn.png')!important; */
      /* background-size: 100% 100% !important; */
      box-shadow: none;
      border:0px solid black!important;
      font-weight: bold;
      color:#333!important;
      background: linear-gradient(to bottom, rgba(51, 51, 51, 0.1), rgba(51, 51, 51, 0.3)), url('dist/img/home/tan-backdrop.gif') repeat-y top center;
      background-size: cover, 100%;
    }
    .center-content{
        position: absolute;
        top: 50%;
        left: 50%;
        margin-right: -50%;
        transform: translate(-50%, -50%);
    }
    .osrs-video {
        padding:0px;
        margin:0px;
          position: absolute;
          top: 0px;
          left: 0px;
          max-width: 2600px;
          max-width: 162.5rem;
          -o-object-fit: cover;
          object-fit: cover;
          z-index: 0;
          opacity:0.45;
          pointer-events: none;
          width: 100%;
          height:100vh;
          min-height: 100vh;
          overflow:hidden;
          filter: brightness(0.3);
          
    }
    .noselect {
      -webkit-touch-callout: none; /* iOS Safari */
      -webkit-user-select: none; /* Safari */
      -khtml-user-select: none; /* Konqueror HTML */
      -moz-user-select: none; /* Old versions of Firefox */
      -ms-user-select: none; /* Internet Explorer/Edge */
      user-select: none; /* Non-prefixed version, currently
                            supported by Chrome, Edge, Opera and Firefox */
    }
    .modal-backdrop {
  opacity: 0.75 !important;
}
@keyframes pulse {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.1);
  }
  100% {
    transform: scale(1);
  }
}

.pulsating-image {
  animation: pulse 2s ease-in-out infinite;
}

    @media (max-width:470px) { .showonmobile {display:block!important; }}
    @media (max-height:738px) { #stats-list, #stats-list-hr {display:none!important; }}

/*Filter styles*/
.saturate {-webkit-filter: saturate(3); filter: saturate(3);}
.grayscale {-webkit-filter: grayscale(100%); filter: grayscale(100%);}
.contrast {-webkit-filter: contrast(160%); filter: contrast(160%);}
.brightness {-webkit-filter: brightness(0.25); filter: brightness(0.25);}
.blur {-webkit-filter: blur(3px); filter: blur(3px);}
.invert {-webkit-filter: invert(100%); filter: invert(100%);}
.sepia {-webkit-filter: sepia(100%); filter: sepia(100%);}
.huerotate {-webkit-filter: hue-rotate(180deg); filter: hue-rotate(180deg);}
.rss.opacity {-webkit-filter: opacity(50%); filter: opacity(50%);}

.toast-top-right-off {
  top: 50px;
  right: 12px;
}
.toast-warning {
  background-color: #202020!important;
}
#toast-container > .toast-warning {
  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9TtSoVBzuIiGSoTnZREcdahSJUCLVCqw4ml7YWmjQkKS6OgmvBwY/FqoOLs64OroIg+AHi6uKk6CIl/i8ptIjx4Lgf7+497t4BQr3MNKsjDmi6baaTCTGbWxFDr+jCCHoQgygzy5iVpBR8x9c9Any9i/Es/3N/jj41bzEgIBLHmWHaxOvE05u2wXmfOMI2ZJX4nHjcpAsSP3Jd8fiNc9FlgWdGzEx6jjhCLBbbWGljtmFqxFPEUVXTKV/Ieqxy3uKslauseU/+wnBeX17iOs1hJLGARUgQoaCKEsqwqa8SdFIspGk/4eMfcv0SuRRylcDIMY8KNMiuH/wPfndrFSYnvKRwAuh8cZyPUSC0CzRqjvN97DiNEyD4DFzpLX+lDsx8kl5radEjoH8buLhuacoecLkDDD4Zsim7UpCmUCgA72f0TTlg4BboXfV6a+7j9AHIUFepG+DgEBgrUvaaz7u723v790yzvx/MGHLKw/wK8gAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAAd0SU1FB+cGHgk2AH7e/mwAAAHUSURBVFjD7Zg/aFUxFIe/tKXDQ8E/SOtkheJQcfFPURBX3QRHXRW6uCu6FREX6eYiCCqdHe1esFYFXURw0HZRqa0+tDo88XNJ4fLw0df7kkeHfHAhJCfJ7+aee3ISKBQKSQjdGKkDQAOYBM4Dx4H9sfkz8BJ4AiwCv0IIf/v+JupR9am65uasqXPqsX4K3KM+tD6P1b25RR5Wl+ydZXUil8ixLj9zt3xTD6YW2VDfmp53aiOl0BnzMZMkPKmjwHtgRybX/wkcCiF8qtN5oFI+nVEkcewzdTtXhV7qQ9S7mELoZAebBeAssFR1Z+A6cC2WN1iOts86jHUixY+03uEnOBXbpyt1LXUoPq1K/XS0PdlhrPW6+oYq5RXgwH9sHqj3galK3SBwr1LeYEptApc7zLeSYkVnzc9sCh991OZvyTe9OEfPQheBZkahTeBFz0JDCKvA7YxC74QQvqbaQofVhQy++VwdTp2Y7FI/JhT5Qd2dK9UbUV8nEPlK3Zc7eW6oN9oC+lb4re7s55FkTL1bI+NvpczuwxZFTwDngCPASIyNX4A3MTO60NblVgjh5rY6d6uD6lX1R2VV/6jj2/KiQB1Vr6jz6nd1rlyfFAqFQqFQ2Ix/QRmABvX9+NcAAAAASUVORK5CYII=") !important;
}
.like-button {
            cursor: pointer;
            color: #807f7e;
        }
        .liked {
            color: #ccc;
            font-weight: bold;
        }
</style>

  <script async src="https://www.googletagmanager.com/gtag/js?id=G-4FNM5RQT6P"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config', 'G-4FNM5RQT6P');</script></head>
<body class="hold-transition sidebar-mini layout-fixed noselect" data-panel-auto-height-mode="height" oncontextmenu="return false" onselectstart="return false" ondragstart="return false">

<div id="duplicate-window" style="z-index:9999999999999999999;display:none;background:#20190f;position:fixed;width:100%;height:100%;text-align:center;">
  <div style="background: linear-gradient(rgba(30, 30, 30, 0.45), rgba(50, 50, 50, 0.7)), url(dist/img/osrs/bg/rsbg.jpg) no-repeat center center fixed; -webkit-background-size: cover; -moz-background-size: cover; -o-background-size: cover; background-size: cover;width:100%;height:100%;">
    <div class="center-content" style="font-size:42px;text-align:center;color:#efefef;">
      <div class="login-logo" style="z-index:999999999">
        <a href="#" class="text-light" style="font-size:55px;"><b>web</b>OSRS</a>
      </div>
      <div class="card rounded elevation-3 text-center" style="width:350px">
          <div class="card-body login-card-body bg-dark rounded border border-secondary text-center">
              <div class="text-center font-weight-bold p-4 text-lg" style="color:#bc955f;">
                You already have this website open on your computer.<br>
                                <a href="https://webosrs.com/home" class="mt-5 p-3 btn btn-secondary"><i class="fas fa-solid fa-house mr-1"></i> Go to home page</a>
                              </div>
          </div>
      </div>
    </div>
  </div>
</div>

<div id="loading-page" style="background:#20190f;position:fixed;z-index:9999;width:100%;height:100%;text-align:center;">
  <div style="background: linear-gradient(rgba(30, 30, 30, 0.45), rgba(50, 50, 50, 0.7)), url(dist/img/osrs/bg/rsbg.jpg) no-repeat center center fixed; -webkit-background-size: cover; -moz-background-size: cover; -o-background-size: cover; background-size: cover;width:100%;height:100%;">
    <div class="center-content" style="font-size:42px;text-align:center;color:#efefef;">
      <div class="login-logo" style="z-index:999999999">
        <a href="./" class="text-light" style="font-size:55px;"><b>web</b>OSRS</a>
      </div>
      <div class="card rounded elevation-3 text-center" style="width:450px;min-height:400px">
          <div class="card-body login-card-body bg-dark rounded border border-secondary text-center">
              <div id="login-wait" class="text-center text-lg font-weight-bold pt-3 pb-4">Loading...<br>
                <!-- <div class="spinner-border text-light" role="status">
                  <span class="sr-only">Loading...</span>
                </div> -->
              </div>
              <!-- <div class="progress mt-1 rounded bg-secondary" style="height: 100px;">
                  <span id="loading-page-progress-text">Loading</span>
                <div id="loading-page-progress-bar" class="progress-bar progress bg-secondary2 progress-bar-striped2 elevation-2" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="color:#222!important;font-family:monospace;background: linear-gradient(135deg, #b09954, #d4c6a0);height:100px"></div>
              </div> -->
              <div class="progress mt-1 rounded bg-secondary5" style="display: flex; align-items: center; justify-content: center; position: relative; height: 40px;background:#111;border:3px solid #101010;z-index:2">
                  <span id="loading-page-progress-text" style="position: absolute; z-index: 2;font-family:monospace;font-size:14px;color:#efefef;letter-spacing:2px;">Loading... - 0%</span>
                  <div id="loading-page-progress-bar" class="progress-bar progress bg-secondary2 progress-bar-striped2 elevation-2" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="background: linear-gradient(135deg, #a31515, #e53e3e);width:0%;height:40px;position: absolute;z-index: 1;left:0;"></div>
              </div>

              <div class="text-sm mt-4 text-muted" style="z-index:2;position:relative">Please wait as all website resources and dependencies are loaded.</div>
              
              <img src="dist/img/home/features2.png" width="400" height="auto" style="opacity:0.6;position:absolute;bottom:0px;left:45px;z-index:0">

              <div class="spinner-border text-light" role="status" style="position:absolute;bottom:100px;left:92px;opacity:0.1;width:30px;height:30px;">
                  <span class="sr-only">Loading...</span>
              </div>
              <!-- <p id="loadingStatus" class="text-md text-muted mt-3 text-lg">Loading...</p> -->

          </div>
      </div>
    </div>
  </div>
</div>

<div class="d-none showonmobile" style="position:fixed;width:100%;height:100%;background: linear-gradient(to bottom, #222222, #888888);z-index:9999999999999;color:#efefef;">
  <div class="center-content ml-1 mr-1" style="padding:20px;width:100%;font-size:24px;text-align:center">
      Currently we do not support mobile devices...<br><img src="dist/img/osrs/prayer-book.gif" loading="lazy" class="img-fluid pt-2 pb-2" style="opacity:0.9"><br>Please use this website from a computer.
  </div>
  <a href="./logout" class="btn bg-gradient-warning text-bold text-lg btn-block" style="position:fixed;bottom:0px;left:0px;width:100%;border-top:2px solid #888"><i class="fas fa-sign-out-alt mr-2"></i> Logout</a>
</div>

<div class="screen-too-small" style="display:none;position:fixed;width:100%;height:100%;background: linear-gradient(to bottom, #222222, #888888);z-index:9999999999999;color:#efefef;">
  <div class="center-content ml-1 mr-1" style="padding:20px;width:100%;font-size:24px;text-align:center">
      Your screen size is too small...<br><img src="dist/img/osrs/prayer-book.gif" loading="lazy" class="img-fluid pt-2 pb-2" style="opacity:0.9"><br>Please enlarge your screen width/height.
  </div>
</div>

<div class="wrapper">


  <!-- Main Sidebar Container -->
  <aside class="main-sidebar sidebar-dark-primary elevation-4">
    <a href="./" class="brand-link text-center">
      <!-- <img src="dist/img/website-logo.jpg" alt="" class="brand-image img-circle2 rounded elevation-3" style="opacity: .8">
      <span class="brand-text font-weight-light ml-2"><b>web</b>OSRS</span>
      <sup style="opacity:0.5;font-size:12px;font-weight:bold;margin-left:2px;color:var(--color-primary)">v1.45</sup> -->
      <img src="./dist/img/banner2.png" style="height:30px!important;">
    </a>

    <!-- Sidebar -->
    <div class="sidebar">
      <!-- Sidebar user panel (optional) -->

      <!-- Sidebar Menu -->
      <nav class="mt-2" style=""> <!-- overflow-x:hidden;height:600px;width:auto; -->
        <ul class="nav nav-pills nav-sidebar flex-column text-sm" data-widget="treeview" role="menu" data-accordion="false">
  
          <!-- <li class="nav-header mt-4 osrs-section">RuneScape</li> -->

          <li class="nav-start-client osrs-section nav-item mt-2 bg-gradient-secondary2 text-white rounded text-center" data-intro="Click here to begin playing OSRS or RS3 using approved clients." data-step="2" style="background: linear-gradient(to bottom, rgba(48,48,48, 0.4), rgba(48, 48, 48, 0.7)), url('dist/img/home/bg-tile-btn-lg.png');background-size: 100% 100%;">
            <a href="./client" class="nav-link text-light text-lg text-bold" onclick="lastActive=Date.now();currentClient=999;$('.osrs-video').remove();$('.osrs-hero-bg').removeClass('d-none');window._launchingClient=true;window._clientOpenAt=Date.now();window._crMisses=0;" style="background-color:transparent!important;">
              <p onclick="$(this).closest('a')[0].click();">
                <img src="dist/img/icons/rs.png" style="width:28px;height:28px;opacity:0.8" class="mr-1"> <span style="vertical-align:middle">Play Now</span>
              </p>
            </a>
          </li>

          <li class="nav-stop-client osrs-section nav-item mt-2 bg-gradient-secondary2 text-white rounded text-center" style="display: none;background: linear-gradient(to bottom, rgba(176, 150, 97, 0.2), rgba(48, 48, 48, 0.7)), url('dist/img/home/bg-tile-btn-lg.png');background-size: 100% 100%;">
            <a href="#" class="nav-link text-light text-lg text-bold" onclick="clientStop(currentClient);" style="background-color:transparent!important">
              <p>
                <img src="" style="width:25px;height:25px;position:absolute;top:10px;left:30px;opacity:0.6;display:none;">
                Stop Session
              </p>
            </a>
          </li>  

          <!-- <li class="nav-header mt-4 rs3-section">RuneScape 3</li>

          <li class="nav-start-client rs3-section nav-item">
            <a href="./client?rs3" class="nav-link" onclick="lastActive=Date.now();currentClient=99;">
              <i class="fas fa-swords nav-icon"></i>
              <p>Select Client</p>
            </a>
          </li> -->

          <li class="nav-stop-client rs3-section nav-item" style="display: none">
            <a href="#" class="nav-link" onclick="clientStop(currentClient);">
              <i class="fas fa-stop-circle nav-icon"></i>
              <p>Stop Session</p>
            </a>
          </li>  


          <!-- <li class="nav-item">
            <a href="contact" class="nav-link">
              <i class="fas fa-power-off nav-icon"></i>
              <p>Restart Client</p>
            </a>
          </li>         -->

          <!-- <li class="nav-item">
            <a href="conta2ct" class="nav-link">
              <i class="fas fa-cog nav-icon"></i>
              <p>Settings</p>
            </a>
          </li> -->

          <li class="nav-item mt-3">
            <a href="./home?page=updates&latest" class="nav-link">
              <i class="fas fa-bullhorn nav-icon"></i>
              <p>Updates</p>
            </a>
          </li>  
          
          <li class="nav-item">
            <a href="./home?page=pricing" class="nav-link">
              <i class="fas fa-shield-check nav-icon"></i>
              <p>Memberships</p>
            </a>
          </li> 

          
          <li class="nav-item">
            <a href="./leaderboard" class="nav-link">
              <i class="fas fa-trophy nav-icon"></i>
              <p>Leaderboard</p>
            </a>
          </li>

          <li class="nav-item">
            <a href="https://status.webosrs.com/status/webosrs/" class="nav-link">
              <i class="fas fa-check-circle nav-icon"></i>
              <p>Uptime/Status</p>
            </a>
          </li> 

          <li class="nav-item">
            <a href="./home?page=faq" class="nav-link">
              <i class="fas fa-question-circle nav-icon"></i>
              <p>FAQs</p>
            </a>
          </li> 

          <li class="nav-item d-none">
            <a href="#" onclick="window.open('https://discord.gg/wZbn9mYUq6','_blank');" class="nav-link">
              <i class="fab fa-discord nav-icon"></i>
              <p>Discord</p>
            </a>
          </li>

      

          <li class="nav-header mt-2">Support</li>
     
          <li class="nav-item">
            <a href="#" class="nav-link" data-toggle="modal" data-target="#feedbackModal">
            <i class="nav-icon fas fa-bug"></i>
            <p>
              Report Bug
            </p>
            </a>
          </li> 

          <li class="nav-item">
            <a href="./home?page=contact" class="nav-link">
              <i class="fas fa-envelope nav-icon"></i>
              <p>Contact</p>
            </a>
          </li>


        </ul>
      </nav>

      <div style="position:absolute;bottom:0px;width:230px;" id="sidebar-footer">
          <div class="user-panel" style="border-bottom:0px;width:100%;">
            <div class="info rounded" style="border-bottom:0px;font-size:14px;width:100%;">
            
            <a href="#" onclick="showDonateModal()" style="border-radius: 20px;opacity:0.8;background: linear-gradient(to bottom, rgba(252, 191, 71, 0.4), rgba(51, 51, 51, 0.3)), url('dist/img/home/tan-backdrop.gif') repeat-y top center;background-size: cover, 100%;display: flex; align-items: center; justify-content: center; height: 50px; padding: 8px;" data-intro="If you like our website and want to support us, please do so here." data-step="8">
                  <img src="https://storage.ko-fi.com/cdn/cup-border.png" class="kofiimg" data-rotation="0" style="margin-right: 8px; height: 25px;animation: kofi-wiggle 3s infinite;">
                  <span style="color:#323842; font-size: 16px; font-weight: bold;">Support Us</span>
            </a>

              <hr id="stats-list-hr" style="background-image: -webkit-linear-gradient(left, rgba(200,200,200,.3), rgba(150,150,150,.6), rgba(100,100,100,0.3));height:3px">
              <ul id="stats-list" class="list-group">

                <!-- <li class="list-group-item mb-3 mt-2" style="background-color: transparent;border:0px;padding:2px;text-align:center">
                  <img src="dist/img/osrs/char_head_shot.png" style="width:auto;height:20px;" class="mr-1">
                  <b>Account:</b><br><div class="mt-1 text-sm text-warning text-truncate">kolton.napier@stu.ebernstadt.kyschools.us</div>
                </li> -->
                
                <li class="list-group-item" style="background-color: transparent;border:0px;padding:2px">
                  <i id="membership-star" class="fas fa-star" style="-webkit-text-stroke: 1px #493822;margin-right:9px"></i> <b>Membership:</b> <a class="float-right"><span id="membership-status">Loading...</span></a>
                </li>

                <li class="list-group-item" style="background-color: transparent;border:0px;padding:2px">
                  <i class="fas fa-users" style="margin-right:9px"></i><b>Players Online:</b> <a class="float-right"><span id="players-online">Loading...</span></a>
                </li>

                <li class="list-group-item" style="background-color: transparent;border:0px;padding:2px">
                  <i class="fas fa-users" style="margin-right:9px"></i><b>Players in Game:</b> <a class="float-right"><span id="players-in-game">Loading...</span></a>
                </li>

                <li class="list-group-item" style="background-color: transparent;border:0px;padding:2px">
                  <i class="fas fa-users" style="margin-right:9px"></i><b>Website Players:</b> <a class="float-right"><span id="web-players">Loading...</span></a>
                </li>

                <li class="list-group-item" style="background-color: transparent;border:0px;padding:2px">
                  <i class="fas fa-wifi" style="margin-right:9px"></i><b>Latency:</b> <a class="float-right"><span id="latency" data-placement="right" data-toggle="tooltip" data-html="true" title="Next check in <span id='latency-next-check'>0</span>m">99999 ms</span></a>
                </li>                
                <li class="list-group-item" style="background-color: transparent;border:0px;padding:2px">
                  <i class="fas fa-clock" style="margin-right:9px"></i><b>Session:</b> <a class="float-right"><span id="activetimer">00:00:00</span></a>
                </li>
              </ul>

            </div>
          </div>


  <div class="dropup user-account-menu" data-intro="Account menu options can be found here, as well as logging out." data-step="6">
    <button type="button" class="btn bg-gradient-dark dropdown-toggle text-nowrap text-truncate mb-2 elvation-3 text-left" data-toggle="dropdown" style="border:1px solid #555;width:230px">
        <img src="./dist/img/osrs/char_head_shot.png" width="30" height="30" class="mr-3"><span class="pr-2 text-truncate"><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="85eeeae9f1eaebabebe4f5ece0f7c5f6f1f0abe0e7e0f7ebf6f1e4e1f1abeefcf6e6edeaeae9f6abf0f6">[email&#160;protected]</a></span>
    </button>
    <div class="dropdown-menu w-100 mb-2" style="background:#101010!important;">
      <!-- <a class="dropdown-item bg-transparent" href="#" onclick="$('.content-wrapper').IFrame('createTab', 'Delete My Data', './delete-data', 'delete-data', true);"><i class="fas fa-trash" style="margin-right:20px"></i> Delete My Data</a> -->
            <a class="dropdown-item bg-transparent" href="./home" target="_blank"><i class="fas fa-home mr-3"></i> Home Page</a>
      <a class="dropdown-item bg-transparent" href="#" onclick="iframeOpen('settings', 'Settings', './settings', false);"><i class="fas fa-cog mr-3"></i> Settings</a>
      <hr style="border:1px solid #555" class="m-0 p-0 mt-2 mb-2">
      <a class="dropdown-item bg-transparent" href="#" onclick="logOut()"><i class="fas fa-sign-out-alt mr-3"></i> Log out</a>
    </div>
  </div>

        </div>

      <!-- /.sidebar-menu -->
    </div>
    <!-- /.sidebar -->
  </aside>

  <!-- Content Wrapper. Contains page content -->
  <div class="content-wrapper iframe-mode bg-gradient-secondary" data-widget="iframe" data-loading-screen="750">
    <div class="nav navbar navbar-expand navbar-dark navbar-dark border-bottom border-dark p-0">
      <!-- <a class="nav-link text-white" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a> -->
      <div class="nav-item dropdown d-none">
        <a class="nav-link bg-danger dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Close</a>
        <div class="dropdown-menu mt-0">
          <a class="dropdown-item" href="#" data-widget="iframe-close" data-type="all">Close All</a>
          <a class="dropdown-item" href="#" data-widget="iframe-close" data-type="all-other">Close All Other</a>
        </div>
      </div>
      <a class="nav-link bg-dark d-none" href="#" data-widget="iframe-scrollleft"><i class="fas fa-angle-double-left"></i></a>
      <ul class="navbar-nav overflow-hidden" role="tablist"></ul>
      <a class="nav-link bg-dark d-none" href="#" data-widget="iframe-scrollright"><i class="fas fa-angle-double-right"></i></a>
      
      <li class="nav-item" title="Discord">
        <a href="#" onclick="window.open('https://discord.gg/wZbn9mYUq6','_blank');" class="nav-link bg-dark">
          <i class="fab fa-discord"></i>
        </a>
      </li>

      
      <!-- Chat nav -->
      <li class="nav-item dropdown" data-intro="Here you can chat with other users on the website." data-step="7">
        <a id="chat-header" class="nav-link" data-toggle="dropdown" href="#" aria-expanded="true">
          <i class="fas fa-comment text-white"></i>
          <span class="chat-message-num badge navbar-badge badge-danger" style="display: none;"></span>
        </a>
        <div id="chat-dropdown" class="dropdown-menu dropdown-menu-lg dropdown-menu-right" style="box-shadow: 0px 28px 17px 15px rgba(0,0,0,0.35);border-radius: 8px; border-top-left-radius: 0px; border-top-right-radius: 0px;margin:0px;border:1px solid #666;border-top: none;right:150px;min-width:600px;height:300px;">
            <iframe id="chat-iframe" src="chat/" scrolling="no" style="width: 100%; height: 100%; border: none; max-height:300px;border-radius: 8px; border-top-left-radius: 0px; border-top-right-radius: 0px;"></iframe>
        </div>
      </li>


      <li class="nav-item">
      <span class="dropdown">
        <a href="#" id="afk-timer-href" class="nav-link bg-dark text-nowrap" data-toggle="dropdown" data-intro="Here you can use our AFK Timer which comes with notification sounds and title alerts." data-step="4">
          <span class="afk-timer-icon">
            <i class="nav-icon far fa-clock"></i> 
            <i class="fas fa-angle-down"></i>
          </span>
          <span id="afk-timer-badge" class="badge badge-warning right" style="display:none"></span>
        </a>
        <div class="afk-dropdown-menu dropdown-menu elevation-3 p-0" data-boundary="window" onclick="event.stopPropagation()" style="width:256px;background:#222;z-index:9999999999999!important;border-bottom-left-radius: 10px; border-bottom-right-radius: 10px;border-top-left-radius:0px;border-top-right-radius:0px;border-bottom:1px solid #444;margin-top:0px;">
          <div class="p-3" style="font-size:14px;color:#efefef;border:0px solid black;">
            <h4 class="text-center mb-3">AFK Timer</h4>
            <hr class="border border-dark">
            <div class="row">
              <div class="col-md-6">
                <i class="fa fa-hourglass-half fa-fw" style="color:#ccc"></i> <strong>Minutes:</strong> 
              </div>
              <div class="col-md-6" style="line-height:30px">
                <input class="form-control" name="m" id="m" type="text" value="10" onkeypress="validate(event)" maxlength="2" style="color:#ccc;box-shadow: none; background-color: #374850; border: 1px solid transparent; height: 30px;cursor:pointer">
              </div>
            </div>
            <div class="row">
              <div class="col-md-6" style="line-height:30px">
                <i class="fa fa-hourglass-half fa-fw" style="color:#ccc"></i> <strong>Seconds:</strong>
              </div>
              <div class="col-md-6">
                <input class="form-control" name="s" id="s" type="text" value="00" onkeypress="validate(event)" maxlength="2" style="color:#ccc;box-shadow: none; background-color: #374850; border: 1px solid transparent; height: 30px;cursor:pointer">
              </div>
            </div>
            <div class="row">
              <div class="col-md-6" style="line-height:35px">
                <i class="fa fa-volume-up fa-fw" aria-hidden="true"></i> <strong>Volume:</strong>
              </div>
              <div class="col-md-6">
                <select name="volume" id="volume" class="form-control" style="color:#ccc;box-shadow: none; background-color: #374850; border: 1px solid transparent; height: 35px;cursor:pointer">
                  <option value="1.0">100%</option>
                  <option value="0.75" selected>75%</option>
                  <option value="0.50">50%</option>
                  <option value="0.25">25%</option>
                  <option value="0.10">10%</option>
                  <option value="0.00">0%</option>
                </select>
              </div>
            </div>
            <div class="row mt-3">
              <div class="col-5">
                <button id="start" type="submit" class="border-0 btn-success btn-sm" onclick="startProgressBtn($('#progressBar'));"><i class="fa fa-play-circle fa-fw" aria-hidden="true"></i> START</button>
              </div>
              <div class="col-2"></div>
              <div class="col-5">
                <button id="stop" type="button" onclick="stopProgressBtn($('#progressBar'));" class="border-0 btn-danger btn-sm"><i class="fa fa-stop-circle fa-fw" aria-hidden="true"></i> STOP</button>
              </div>
            </div>
            <br>
            <div class="row text-center">
              <div class="col-4">
                <br><br>
                <img id="crabby" class="preset-afk-timer" src="dist/img/osrs/icons/crab.png" style="opacity:0.7;width:40px;height:30px;cursor:pointer" onclick="$('#m').val('10');$('#s').val('00');startProgress(600, 600, $('#progressBar'));">
              </div>
              <div class="col-4">
                <img id="guthans" class="preset-afk-timer" src="dist/img/osrs/icons/guthans.png" style="opacity:0.7;width:25px;height:74px;cursor:pointer;" onclick="$('#m').val('19');$('#s').val('30');startProgress(1170, 1170, $('#progressBar'));">
              </div>
              <div class="col-4">
                <img id="dharok" class="preset-afk-timer" src="dist/img/osrs/icons/dharok.png" style="opacity:0.7;width:25px;height:70px;cursor:pointer;" onclick="$('#m').val('04');$('#s').val('45');startProgress(285, 285, $('#progressBar'));">
              </div>
            </div>
            <div id="progressBar" style="display:none;font-weight:bold" class="mt-3">
              <div class="progress bg-secondary" id="progressbar-outer">
                <span id="afk-time-left" style="line-height:18px;width:85%" class="justify-content-center d-flex position-absolute"></span>
                <div id="progressbar-inner" class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="100" aria-valuemin="1" aria-valuemax="100" style="width:100%;background-color: var(--orange)!important;">
                </div>
              </div>
            </div>
          </div>
        </div>
      </span>
      </li>

      <li class="nav-item">
      <span class="dropdown">
        <a href="#" class="nav-link bg-dark text-nowrap" data-toggle="dropdown" data-intro="Here you can configure different notification settings" data-step="3">    
          <i class="nav-icon fas fa-bell"></i> 
          <i class="fas fa-angle-down"></i>
        </a>
        <div class="dropdown-menu elevation-3 p-0" data-boundary="window" onclick="event.stopPropagation()" style="width:256px;background:#222;z-index:9999999999999!important;border-bottom-left-radius: 10px; border-bottom-right-radius: 10px;border-top-left-radius:0px;border-top-right-radius:0px;border-bottom:1px solid #444;margin-top:0px;">
          <div class="pt-2 pb-2 pl-3 pr-3" style="font-size:14px;color:#efefef;border:0px solid black;">
            <h6 class="text-center mb-1"><img src="dist/img/osrs/clients/icons/runelite.png" class="mr-1" style="width:22px;height:18px;"> <span class="text-bold text-orange" style="vertical-align:middle">Notifications</span></h6>
            <div class="text-muted text-xs text-center text-bold">RuneLite Client</div>
            <hr class="border border-dark mt-2">
            <div class="row">
              <div class="col-md-6">
                <i class="fas fa-bell-on mr-1" style="color:#ccc"></i> <strong>Show Them:</strong> 
              </div>
              <div class="col-md-6" style="line-height:30px">
                <div class="form-group m-0">
                  <div class="custom-control custom-switch custom-switch-off-danger custom-switch-on-success">
                    <input type="checkbox" class="custom-control-input" id="runelite-notifications-show" name="runelite-notifications-show">
                    <label class="custom-control-label" for="runelite-notifications-show"></label>
                  </div>
                </div>
              </div>
            </div>
            <div class="text-xs text-muted text-center mb-2">Sound only triggers when not on page.</div>
            <div class="row">
              <div class="col-md-6" style="line-height:35px">
                <i class="fas fa-music mr-1" aria-hidden="true"></i> <strong>Sound:</strong>
              </div>
              <div class="col-md-6">
                <select name="runelite-notification-sound" id="runelite-notification-sound" class="form-control" style="color:#ccc;box-shadow: none; background-color: #374850; border: 1px solid transparent; height: 35px;cursor:pointer">
                  <option value="none">None</option>
                  <option value="osrs_xp_lamp.mp3">XP Lamp</option>
                  <option value="osrs_pray.mp3">Pray</option>
                  <option value="osrs_protect_magic.mp3">Protect Magic</option>
                  <option value="osrs_high_alch.mp3">High Alch</option>
                  <option value="osrs_runecraft.mp3">Runecraft</option>
                  <option value="osrs_hit.mp3">Hit</option>
                  <option value="osrs_random_event.mp3">Random Event</option>
                  <option value="osrs_eat.mp3">Eat</option>
                  <option value="osrs_out_of_prayer.mp3">Out of Prayer</option>
                  <option value="osrs_hit_2.mp3">Hit 2</option>
                  <option value="osrs_curse.mp3">Curse</option>
                  <option value="osrs_enchant.mp3">Enchant</option>
                  <option value="osrs_protect_missile.mp3">Protect Missile</option>
                  <option value="osrs_teleport.mp3">Teleport</option>
                </select>
              </div>
            </div>
            <div class="row">
              <div class="col-md-6" style="line-height:35px">
                <i class="fa fa-volume-up mr-1" aria-hidden="true"></i> <strong>Volume:</strong>
              </div>
              <div class="col-md-6">
                <select name="runelite-notification-volume" id="runelite-notification-volume" class="form-control" style="color:#ccc;box-shadow: none; background-color: #374850; border: 1px solid transparent; height: 35px;cursor:pointer">
                  <option value="1.0">100%</option>
                  <option value="0.75">75%</option>
                  <option value="0.50">50%</option>
                  <option value="0.25">25%</option>
                  <option value="0.10">10%</option>
                  <option value="0.00">0%</option>
                </select>
              </div>
            </div>
            <a href="#" class="dropdown-item dropdown-footer bg-gradient-secondary rounded text-sm mt-2 p-1 text-white" onclick="$(this).closest('.dropdown-menu').removeClass('show');runeliteShowNotifications();"><i class="fas fa-history mr-1"></i> See All Past Notifications</a>

            <hr class="border border-dark mb-2">
            <h6 class="text-center mb-1"><i class="fas fa-comment-dots mr-1" style="font-size:16px"></i> <span class="text-bold text-teal" style="vertical-align:top">Notifications</span></h6>
            <div class="text-muted text-xs text-center text-bold">webOSRS Web Chat</div>
            <hr class="border border-dark mt-2">
            <div class="row">
              <div class="col-md-6">
                <i class="fas fa-bell-on mr-1" style="color:#ccc"></i> <strong>Show Them:</strong> 
              </div>
              <div class="col-md-6" style="line-height:30px">
                <div class="form-group m-0">
                  <div class="custom-control custom-switch custom-switch-off-danger custom-switch-on-success">
                    <input type="checkbox" class="custom-control-input" id="chat-notifications-show" name="chat-notifications-show">
                    <label class="custom-control-label" for="chat-notifications-show"></label>
                  </div>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-md-6" style="line-height:35px">
                <i class="fas fa-music mr-1" aria-hidden="true"></i> <strong>Sound:</strong>
              </div>
              <div class="col-md-6">
                <select name="chat-notification-sound" id="chat-notification-sound" class="form-control" style="color:#ccc;box-shadow: none; background-color: #374850; border: 1px solid transparent; height: 35px;cursor:pointer">
                  <option value="none">None</option>
                  <option value="chat1.mp3">Chat 1</option>
                  <option value="chat2.mp3">Chat 2</option>
                  <option value="discord.mp3">Discord</option>
                </select>
              </div>
            </div>
            <div class="row mb-2">
              <div class="col-md-6" style="line-height:35px">
                <i class="fa fa-volume-up mr-1" aria-hidden="true"></i> <strong>Volume:</strong>
              </div>
              <div class="col-md-6">
                <select name="chat-notification-volume" id="chat-notification-volume" class="form-control" style="color:#ccc;box-shadow: none; background-color: #374850; border: 1px solid transparent; height: 35px;cursor:pointer">
                  <option value="1.0">100%</option>
                  <option value="0.75">75%</option>
                  <option value="0.50">50%</option>
                  <option value="0.25">25%</option>
                  <option value="0.10">10%</option>
                  <option value="0.00">0%</option>
                </select>
              </div>
            </div>


          </div>
        </div>
      </span>
      </li>

      <!-- <li class="nav-item">
        <a class="nav-link bg-dark" href="#" onclick="clientTile();" data-intro="Here you can make the client window completely fullscreen removing the left side menu." data-step="5">
          <i class="fad fa-th-large"></i>
        </a>
      </li> -->

      <!-- <li class="nav-item">
        <a class="nav-link bg-dark" href="#" data-widget="iframe-fullscreen22" onclick="toggleFullscreen();$(this).find('.fa-expand, .fa-compress').toggle();" data-intro="Here you can make the client window completely fullscreen removing the left side menu." data-step="5">
          <i class="fas fa-expand"></i>
          <i class="fas fa-compress" style="display:none"></i>
        </a>
      </li> -->

      <!-- <li class="nav-item">
        <a id="header-chat-toggle" class="nav-link bg-dark" href="#" onclick="headerChatToggle();" data-intro="You can hide the chat here completely if you do not want to see it. When it is red, it is hidden." data-step="4">
          <i class="fas fa-comment"></i>
          <span class="chat-message-num badge badge-danger navbar-badge" style="display:none;"></span>
          <i class="fas fa-comment-times text-danger" style="display:none"></i>
        </a>
      </li> -->

    </div>

    <div class="tab-content">
      <div class="tab-empty noselect" style="text-shadow: -1px 1px 0 #555, 1px 1px 0 #555, 1px -1px 0 #888; -1px -1px 0 #888; ">
       
                  <video class="osrs-video" poster="dist/vid/h.jpg" muted="" loop="" autoplay="" playsinline="">
              <source src="dist/vid/h.webm">
          </video>
        
        <div class="osrs-hero-bg d-none" style="background-image: linear-gradient(rgba(0, 0, 0, 0), rgba(50, 50, 50, 0.99)), url(dist/img/home/hero-bg.jpg); background-size: cover; background-position: center;position:absolute;top:0px;left:0px;width:100%;height:120%;z-index:0;opacity:0.5"></div>

        <div class="row text-center" style="width:80%">
          <div class="col-12 text-center text-nowrap m-0 p-0 empty-banner" style="display:none;" data-intro="Welcome to webOSRS!<br><br>This tutorial will quickly guide you on features of our website." data-step="1">
            <h2 class="display-4" style="display:inline;-webkit-text-stroke: 1px white;">
              Welcome to <b>web</b>OSRS              <!-- <span class="text-warning text-bold text-left" style="-webkit-text-stroke: 0px white;position:relative;right:-45px;top:10px;font-size:15px;width:130px;text-align:left;">
                v1.45              </span> -->
            </h2>
          </div>
          <div class="col-12 text-center empty-banner mt-3" style="display:none"><i class="fas fa-code mr-1 text-info"></i> Developed by PR0TEIN</div>

          <div class="col-5 text-center mt-5 p-0 m-0 rounded empty-banner" style="display:none;text-shadow:none;text-align:left!important;background:rgba(50,50,50,0.75)">
              <div class="bg-dark text-center p-1 text-lg rounded text-bold"><i class="fas fa-bullhorn mr-1"></i> Latest Update <span class="badge badge-sm badge-secondary text-sm" style="position:absolute;top:8px;right:6px;">Oct 03, 2023</span></div><div class="p-3"><span class="text-bold" style="cursor:pointer;color:#ff9900;font-size:18px;" onclick="iframeOpen('latestupdate', 'Latest Update', './home?page=updates&latest');">New Server Acquisition</span> <div class="m-0 mt-2"><p>We're excited to bring some fantastic news to all our dedicated players and supporters today. Thanks to the overwhelming generosity of our community and the fantastic support from our members through our membership tiers, we've successfully acquired a brand-new server!</p><p>As many of ...<br><a href="#" class="btn btn-sm btn-secondary mt-2" onclick="iframeOpen('latestupdate', 'Latest Update', './home?page=updates&latest');">Read more</a></div></div>              <div class="" style="position:absolute;bottom:15px;right:15px;">
                  <span class="like-button" data-id="8" data-likes="67">
                    <i class="far fa-thumbs-up ml-1 mr-1"></i> 67                  </span>
              </div>
          </div>

          <div class="col-2 mt-5"></div>

          <div class="col-5 text-center mt-5 text-left p-0 m-0 rounded empty-banner" style="display:none;text-shadow:none;background:rgba(50,50,50,0.75);min-height:200px;">
            <div class="d-flex flex-column justify-content-between h-100">
              <div class="bg-dark text-center p-1 text-lg rounded text-bold">
                <a class="carousel-control-prev2 pl-1 mt-1 opacity-50 float-left" href="#infoStartPage" role="button" data-slide="prev">
                  <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                  <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next2 float-right pr-1 mt-1 opacity-50 float-right" href="#infoStartPage" role="button" data-slide="next">
                  <span class="carousel-control-next-icon" aria-hidden="true"></span>
                  <span class="sr-only">Next</span>
                </a>
                <i class="fas fa-info-square mr-1"></i> Info
              </div>
              <div class="p-3 text-left">
               
                <div id="infoStartPage" class="carousel slide" data-ride="carousel">
                  <div class="carousel-inner" style="min-height:150px;">
                    <div class="carousel-item active">
                      Step into a new realm of gaming with webOSRS! Embrace the nostalgia of RuneScape in your browser, using your preferred clients. No downloads, just endless quests and boundless fun awaits!
                    </div>
                    <div class="carousel-item">
                      webOSRS blocked on a specific network? No problem, use one of our ALT domains to access it!
                      <ul class="mt-2 mb-1"><li><a href="https://webosrs.resolve.network" target="_blank" class="text-warning">webosrs.resolve.network</a> <i class="ml-1 fas fa-lock-alt"></i></li></ul>                      <span class="text-sm">These alternative links are specifically designed to bypass network restrictions, ensuring that you can still enjoy webOSRS without any interruptions.</span>
                    </div>
                    <div class="carousel-item">
                      Discovered an issue? Help us improve by reporting bugs or providing feedback through our <a href="#" data-toggle="modal" data-target="#feedbackModal" class="text-warning">bug report</a>. Your input is valuable in enhancing our service.
                    </div>
                    <div class="carousel-item">
                      Interested in joining our Discord community? Simply click the button below to connect with fellow enthusiasts and engage in discussions on Discord.<div class="mt-2">We're excited to have you on board! <i class="fab fa-discord" style="color:#7289DA"></i></div>
                    </div>
                  </div>
              </div>

              </div>
              <div class="mt-auto text-center mb-4">
                <a href="#" class="btn btn-sm btn-secondary mr-2" onclick="$('.nav-start-client a').click()"><img src="dist/img/icons/rs.png" style="width:20px;height:20px;opacity:0.8" class="mr-1"> <span style="vertical-align:middle">Play Now!</span></a>
                <a href="#" class="btn btn-sm mr-2 d-none d-lg-inline-block" style="background:#7289DA;color:#fff" onclick="window.open('https://discord.gg/wZbn9mYUq6','_blank');"><i class="fab fa-discord"></i> Join Discord</a>
                <a href="#" class="btn btn-sm mr-2 d-none d-lg-inline-block" style="background:#D2691E;color:#fff" onclick="chatRestore();"><i class="fas fa-comment mr-1"></i> Web Chat</a>
              </div>
            </div>
          </div>


        </div>
         
      
          
          <!-- <div style="display:none;" class="empty-banner d-block"><br><br>Developed by Jordan Hillis</div> -->
      </div>
      <div class="tab-loading bg-dark">
        <div>
          <h3 class="display-4" style="opacity:0.75">Loading tab...<i class="fa fa-sync fa-spin ml-1"></i></h3>
        </div>
      </div>

    </div>
  </div>


<!-- Chat -->
<!-- <div id="chat-container" style="display:none;position: fixed; bottom: 47px; right: 0px; width: 790px; height: 40px; border-radius: 10px 0px 0px;">
  <div id="chat-header" style="background-color: #202020; height: 40px; padding-top: 5px;border-radius: 10px 0 0 0;text-align:center;color:#ccc;cursor:pointer;border-top:1px solid #202020;border-left:1px solid #202020;">
    <span style="font-size: 20px;"><i class="fas fa-comment mr-2"></i><span class="chat-message-num badge badge-danger" style="display:none;font-size:10px;position:absolute;left:60px"></span> Chat</span>
    <button id="chat-minimize-btn" style="float: right; margin-left: 5px; display: none;" class="mr-1 border-0"><i class="fas fa-window-minimize"></i></button>
    <button id="chat-restore-btn" style="float: right; margin-left: 5px; display: block;" class="mr-1 border-0"><i class="fas fa-window-maximize"></i></button>
  </div>
  <iframe id="chat-iframe" src="chat/" style="width: 100%; height: 100%; border: none; display: none;"></iframe>
</div> -->


<!-- <div id="chat-container" style="display:none; position: fixed; bottom: 0px; right: 0px; width: 790px; height: 47px; border-radius: 10px 0px 0px;z-index:100;">
  <div id="chat-header" style="background: linear-gradient(rgb(88, 88, 88), rgb(48,48,48)); height: 47px; padding-top: 6px; border-radius: 0px 0 0 0; text-align: center; color: #ccc; cursor: pointer; border-top: 1px solid #202020; border-left: 1px solid #202020;" data-intro="Here you can chat with other users on the website." data-step="7">
    <span style="font-size: 20px; position: relative;">
      <i class="fas fa-comment mr-2"></i>
      <span class="chat-message-num badge badge-danger" style="display: none; font-size: 10px; position: absolute; top: -3px; right: 5px;"></span>
    </span>
    <span style="font-size: 20px;">Chat</span>
    <button id="chat-minimize-btn" style="background:#aaa;float: right; margin-top:5px; margin-left: 5px; display: none;" class="mr-1 border-0"><i class="fas fa-window-minimize"></i></button>
    <button id="chat-restore-btn" style="background:#aaa;float: right; margin-top:5px; margin-left: 5px; display: block;" class="mr-1 border-0"><i class="fas fa-window-maximize"></i></button>
  </div>
  <iframe id="chat-iframe" src="chat/" style="width: 100%; height: 100%; border: none; display: none;"></iframe>
</div> -->

<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
function chatMinimize() { return; }
function chatRestore() { return; }
const chatContainer = document.getElementById('chat-container');
const chatIframe = document.getElementById('chat-iframe');
const chatHeader = document.getElementById('chat-header');

// const chatMinimizeBtn = document.getElementById('chat-minimize-btn');
// const chatRestoreBtn = document.getElementById('chat-restore-btn');
// let chatContainerMinimizedHeight = '47px';
// let chatContainerMinimizedWidth = '200px';
// let chatContainerMaximizedHeight = '305px';
// let chatContainerMaximizedWidth = '790px';

// function chatMinimize() {
//   chatContainer.style.height = '47px';
//   chatContainer.style.bottom = '0px';
//   chatContainer.style.width = '200px';
//   chatContainer.style.display = 'block';
//   chatHeader.style.borderRadius = '0px 0 0 0';
//   chatIframe.style.display = 'none';
//   chatMinimizeBtn.style.display = 'none';
//   chatRestoreBtn.style.display = 'block';
//   chatHeader.style.background = 'linear-gradient(rgb(88, 88, 88), rgb(48,48,48))';
// }

// function chatRestore() {
//   chatContainer.style.height = '305px';
//   chatContainer.style.width = '790px';
//   chatContainer.style.bottom = document.querySelector('.main-footer')?.classList.contains('d-none') ? '42px' : '93px';
//   chatContainer.style.display = 'block';
//   chatHeader.style.borderRadius = '10px 0 0 0';
//   chatIframe.style.display = 'block';
//   chatMinimizeBtn.style.display = 'block';
//   chatRestoreBtn.style.display = 'none';
//   chatHeader.style.background = 'linear-gradient(rgb(32,32,32), rgb(48,48,48))';
// }

var chatMessageNum = 0;
function newChatMessage(id, name, msg) {
  console.log(id + " - " + name + " - " + msg);
  if($("#chat-header").is(":visible")){
    chatMessageNum++;
    if(!$("#chat-iframe").is(":visible")){
      if($('#chat-notifications-show').is(':checked')){
        $.ambianceRemoveAll();
        //toastr.clear();
        msg = msg.replace(/<\/?[^>]+(>|$)/g, "");
        $.ambiance({title: "<i class='fas fa-comments mr-2 ml-1'></i>"+name+"<div class='float-right text-muted text-xs pr-2'>(Chat Message)</div>", message: "<div style='color:#ccc' class='text-sm text-truncate mt-1 ml-1'>"+msg+"</div>", width: '350', timeout: 15});
        //toastr.warning(msg.length > 36 ? msg.substring(0, 36) + "..." : msg, name, { enableHtml: true, timeOut: 15000, closeButton: true, positionClass: 'toast-top-right-off'});
      }
      $(".chat-message-num").text(chatMessageNum).show();
      // Chat messages in client window
      const clientIframe = $('#panel-client iframe');
      if (clientIframe.length) {
          const clientChatMsgNum = clientIframe.contents().find('.chat-message-num');
          if (clientChatMsgNum.length) {
            clientChatMsgNum.text(chatMessageNum).show(); 
          } 
      }
    }
    if($('#chat-notification-sound').val() !== "none" && !$("#hidescreen").is(":visible")){
      var audio = new Audio('dist/audio/chat/' + $('#chat-notification-sound').val());
      audio.volume = $('#chat-notification-volume').val();
      audio.play();
    }
  }
}

function headerChatToggle() {
  $('#chat-container').toggle();
  $('#header-chat-toggle').find('.fa-comment, .fa-comment-times').toggle();
  if($("#header-chat-toggle > .fa-comment").is(":visible")){
    setTimeout(function() {
      if($("#chat-header").is(":visible")){
        chatRestore();
        $(".chat-message-num").text(0).hide();
      }
    }, 1000);
  }
}

chatHeader.addEventListener('click', function() {
  if (chatIframe.style.display === 'none') {
    chatRestore();
    setTimeout(function() {
      var iframeID = document.getElementById("chat-iframe");
      // Focus the IFRAME element
      $(iframeID).focus();
      // Use jQuery to find the control in the IFRAME and set focus
      $(iframeID).contents().find("#content").focus();
    }, 1000);
  } else {
    chatMinimize();
  }
  chatMessageNum = 0;
  $(".chat-message-num").text(chatMessageNum).hide();
  // Remove client chat
  const clientIframe = $('#panel-client iframe');
  if (clientIframe.length) {
      const clientChatMsgNum = clientIframe.contents().find('.chat-message-num');
      if (clientChatMsgNum.length) {
        clientChatMsgNum.text(chatMessageNum).hide(); 
      } 
  }
});
</script>

  <!-- /.content-wrapper -->

  <footer id="main-footer" class="main-footer bg-dark border-0 text-sm d-none">
    <div id="footer-main" class="row">
      <div id="footer-1" class="col-md-4 col-6 text-left text-truncate">
        <strong>Copyright &copy; 2022-2025 <a href="./" style="color:var(--color-primary)"><b>web</b>OSRS</a>.</strong> All rights reserved.
      </div>
      <div id="footer-2" class="col-md-4 text-center d-none d-lg-block text-truncate">
        This website is in no way affiliated with <b>Jagex Ltd</b> or <b>RuneLite</b></span>
      </div>
      <div class="col-md-4 col-6 text-right">
        <b>Version</b> 1.45      </div>
    </div>

    <div id="footer-tabs" class="row" style="display:none">
      <div id="footer-0" class="col-md-4 col-6 text-left text-truncate" style="min-height:41px"></div>
    </div>
  </footer>

  <!-- Control Sidebar -->
  <aside class="control-sidebar control-sidebar-dark">
    <!-- Control sidebar content goes here -->
    <div class="p-3">
      <!-- Content of the sidebar goes here -->
  
    </div>
  </aside>
  <!-- /.control-sidebar -->

</div>
<!-- ./wrapper -->
<div class="modal fade feedback" id="feedbackModal" tabindex="-1" role="dialog" data-html2canvas-ignore="true">
    <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
        <div class="modal-content bg-dark rounded" style="border:2px solid #444;">

            <div class="feedback-report">
              <div class="modal-header border-0 pb-0">
                <h5 class="modal-title font-weight-bold">
                  <i class="fas fa-bug mr-2 text-danger"></i> Report a Bug
                </h5>
                <button type="button" class="close text-light" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <form class="doo" method="post" action="bugs/report">
                  <div class="form-group">
                    <label for="bugComment" class="font-weight-bold mb-2">What went wrong?</label>
                    <textarea 
                      required 
                      id="bugComment"
                      name="comment" 
                      class="form-control bg-gradient-dark border border-warning text-light border border-secondary rounded p-3" 
                      rows="6"
                      maxlength="5000"
                      autocomplete="off"
                      placeholder="Describe the bug in detail..."></textarea>
                    <div class="d-flex justify-content-between mt-1">
                      <small class="text-muted">Max 5000 characters</small>
                      <!-- <small id="charCounter" class="text-muted">0 / 5000</small> -->
                    </div>
                  </div>
                  <input name="screenshot" type="hidden" class="feedback-screen-uri">
                  <button class="btn bg-gradient-dark btn-block font-weight-bold py-2 mt-3 elevation-2">
                    <i class="fas fa-paper-plane mr-2"></i> Submit Report
                  </button>
                </form>
              </div>
            </div>
        
            <div class="feedback-loading text-center">
                <div class="modal-header border-0 d-none">
                    <h5 class="modal-title">Please wait...</h5>
                </div>
                <div class="modal-body mt-5 mb-5">
                  <div class="spinner-border mt-2" style="width: 5rem; height: 5rem;" role="status">
                    <span class="sr-only">Loading...</span>
                  </div><br><br>
                  Sending bug report...
                </div>
            </div>
            <div class="feedback-reported text-center">
                <div class="modal-header border-0 d-none">
                    <h5 class="modal-title">Thank you!</h5>
                </div>
                <div class="modal-body pt-4 m-0 p-0" style="background:rgba(24, 160, 87, 0.1);">
                    <div class="text-center">
                      <img src="/dist/img/home/features2.png" style="width:400px;height:auto;">
                    </div>
                    <p class="alert bg-gradient-success mb-0 rounded-0">Your submission has been received, we will review it shortly.</p>
                    <button class="btn bg-gradient-secondary btn-block feedback-close elevation-2 rounded-0" data-dismiss="modal">Close</button>
                </div>
            </div>
            <div class="feedback-failed text-center">
                <div class="modal-header border-0 d-none">
                    <h5 class="modal-title">Oh no!</h5>
                </div>
                <div class="modal-body pt-4 m-0 p-0 m-0" style="background:rgba(202, 32, 32, 0.1)">
                    <div class="text-center">
                      <img src="/dist/img/home/features2.png" style="width:400px;height:auto;">
                    </div>
                    <p class="alert bg-gradient-warning mb-0 text-danger rounded-0">
                      It looks like your submission was not sent.
                      <br><br>
                      <a href="/cdn-cgi/l/email-protection#790a0c0909160b0d390e1c1b160a0b0a571a1614" class="text-dark text-bold">Try contacting us by the old method.</a>
                    </p>
                    <button class="btn bg-gradient-secondary btn-block feedback-close elevation-2 rounded-0" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>

<!-- jQuery -->
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script src="plugins/jquery/jquery.min.js"></script>
<!-- jQuery UI 1.11.4 -->
<script src="plugins/jquery-ui/jquery-ui.min.js"></script>
<!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
<script type="text/javascript" src="plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js"></script>
<script>
$(function() {
    //$('nav').overlayScrollbars({ });
    $.widget.bridge('uibutton', $.ui.button);
});  
</script>
<!-- Bootstrap 4 -->
<script src="plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
<!-- overlayScrollbars -->
<script src="plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js"></script>
<!-- AdminLTE App -->
<script src="dist/js/adminlte.js"></script>
<script src="plugins/toastr/toastr.min.js"></script>
<script type="text/javascript" src="plugins/html2canvas/html2canvas.min.js"></script>
<script type="text/javascript" src="bugs/resources/js/site.js"></script>
<script src="plugins/duplicate/Duplicate.js"></script>
<script src="plugins/ambiance/ambiance.min.js?v=1.22"></script>

<script>
toastr.options = {
  "debug": false,
  "positionClass": "toast-bottom-right",
  "progressBar": true,
}
var lastActive = Date.now();
var inactiveWarningTimeout = 1200000;
var inactiveTimeout = 1500000; // 30 minutes
var inactiveWarning = false;
var inactiveClosed = false;
var chatOpened = false;
var chatWelcome = false;
var playNowIcon = null;
var clientTabName = "Game Session";
$(document).ready(function() {
  playNowIcon = $('.nav-item.osrs-section p:contains(Now)').html();
  setInterval(function () {
    if($(".navbar .nav-link:contains(Now)").prev(".btn-iframe-close").length > 0 || $(".navbar .nav-link:contains(Resume)").prev(".btn-iframe-close").length > 0){
      /*$('.nav-item p:contains(Select Client)').html('OSRS Client');*/
      if(currentClient == 99){
        $('.nav-item.rs3-section p:contains(Now), .nav-item p:contains(Resume)').html(playNowIcon.replace("Play Now", "Resume Playing"));
      }else{
        $('.nav-item.osrs-section p:contains(Now), .nav-item p:contains(Resume)').html(playNowIcon.replace("Play Now", "Resume Playing"));
      }
      $('[role=tab]:contains(Now), [role=tab]:contains(Resume)').html(clientTabName); // Client tab name
      $('.nav-start-client').hide();
      $('.nav-stop-client').show();
      if(currentClient == 99){
        $(".osrs-section").hide();
      }else{
        $(".rs3-section").hide();
      }
    }
    if($(".navbar .nav-link:contains("+clientTabName+")").prev(".btn-iframe-close").length == 0){
    //if(typeof currentClient !== 'undefined' && currentClient == 999){
      $('.nav-start-client').show();
      $('.nav-stop-client').hide();
      setFullWindow(false);
      $(".osrs-section.nav-start-client,.rs3-section.nav-start-client,.osrs-section.nav-header,.rs3-section.nav-header").show();
    }
    if (typeof currentClient !== "undefined" && currentClient != 999 && chatOpened == false && chatWelcome == false) {
      chatOpened = true;
      chatWelcome = true;
      setTimeout(function() { 
        $.ambiance({title: "<i class='fas fa-info-square mr-1 ml-1'></i> Pro Tip!",message: "Press CTRL+SPACE to toggle hiding your screen", type: 'info', width: '360', extraClassMain: "ambiance-bottom-right", timeout: 30});
        //toastr.info("Press CTRL+SPACE to toggle hiding your screen", "Screen Hide", { enableHtml: true, timeOut: 31000, closeButton: true, positionClass: 'toast-bottom-right'});
      }, 5000);
      // Tell to join Discord
      setTimeout(function() { 
        $.ambiance({
            message: `
                <a href="https://discord.gg/wZbn9mYUq6" target="_blank" style="color: #7289DA;" class="btn text-center text-bold">
                    <i class="fab fa-discord mr-1 ml-1 mr-2"></i> Join our Discord
                </a>`,
            width: '220',
            extraClassMain: "ambiance-bottom-right",
            timeout: 30
        });
      }, 15000);
      // Welcome message for the chat
      setTimeout(function() { 
        document.getElementById('chat-iframe').contentWindow.systemNotification("Hello, "+document.getElementById('chat-iframe').contentWindow.$("#name").val()+"! Welcome to the chat!");
      }, 60000);
      setTimeout(function() { 
        if($("#chat-header").is(":visible")){
          if(navigator.userAgent.includes('Xbox')){
            headerChatToggle();
          }else{
            //chatRestore();
            console.log("chat toggled");
          }
        }
      }, 10000);
    }
    currTime = Date.now()
    // Warn if inactive 
    if($("#panel-client iframe, #panel-client-rs3 iframe").length > 0 && isClientOpen()){
      if((currTime-lastActive) > inactiveWarningTimeout && inactiveWarning == false){
        inactiveWarning = true;
        console.log(1)
        infoModal("","<div class='row text-lg'><div class='col-3'><img src='dist/img/osrs/diango_chathead.png' width='100' height='auto'></div><div class='col-9 pl-4 mt-2'><span class='text-warning text-bold'>You seem to be inactive!</span><br><br><span class='text-md'>Please confirm if you want to keep playing.</span></div></div><hr><div class='text-center'><span class='btn btn-block bg-gradient-success font-weight-bold' data-dismiss='modal' onclick='lastActive=Date.now();inactiveWarning=false;'><i class='fas fa-check-circle mr-2'></i> I am still here</span></div>", false);
      }else if((currTime-lastActive) > inactiveTimeout && inactiveWarning == true && inactiveClosed == false){
        // Close their client window if inactive
        inactiveClosed = true;
        console.log(2);
        infoModal("","<div class='row'><div class='col-3'><img src='dist/img/osrs/diango_chathead.png' width='100' height='auto'></div><div class='col-9 pl-4 mt-2'><span class='text-warning text-bold text-lg'>Inactivity detected...</span><br><br>Looks like you fell asleep...<i class='fas fa-snooze'></i> <br>Your client window has been closed</div></div><hr><div class='text-center'><span class='btn btn-block bg-gradient-secondary font-weight-bold' data-dismiss='modal' onclick='lastActive=Date.now();inactiveClosed=false;inactiveWarning=false;'>Close</span></div>", false);
        $(".navbar .nav-link:contains("+clientTabName+")").prev(".btn-iframe-close").click();
        clientDeauth();
      }
    }
  }, 1000);

  $('[data-toggle="tooltip"]').tooltip();

  let loadingInterval;
  let loadingCount = 0;
  const totalModules = 100;
  const stopLoadingPct = 95;
  const messages = [
  'Choosing Pikachu',
'Overflowing Stack',
'Doing Donuts',
'Delivering Presents',
'Making Code',
'Dampening Gravity',
'Chugging Redbull',
'Talking to Mom',
  ];
    // "Loading website",
    // "Still working!",
    // "Making progress...",
    // "Keep waiting...",
    // "Almost there...",
    // "Just a little more...",
    // "Hang on...",
    // "Just a moment more...",
  
  function updateLoadingFinished() {
    loadingCount = totalModules;
    $("#loading-page-progress-bar").css("width", 100 + "%");
    $("#loading-page-progress-text").text("Finished - "+totalModules + "%");
    $("#loadingStatus").text("Done!");
    clearInterval(loadingInterval);
  }

  function updateLoadingStatus(count) {
    const percentCompleted = (count / totalModules) * 100;
    if (count > totalModules) {
      updateLoadingFinished();
      return;
    }
    const messageIndex = Math.floor((count / totalModules) * messages.length);
    $("#loading-page-progress-bar").css("width", percentCompleted + "%");
    $("#loading-page-progress-text").text(messages[messageIndex]+" - " +count + "%");
    //$("#loadingStatus").text(messages[messageIndex]+"...");
  }

  $(document).ready(function () {
    loadingInterval = setInterval(function () {
      loadingCount++;
      updateLoadingStatus(loadingCount);
      if (loadingCount >= ((stopLoadingPct / 100) * totalModules)) {
        clearInterval(loadingInterval);
      }
    }, 100);
  });

	window.onload = function() {
    setTimeout(function() { updateLoadingFinished(); }, 4000);
    setTimeout(function() { 
      $("#loading-page").fadeOut(2500).remove();
      $(".empty-banner").fadeIn(1000);
      $(".tab-loading").css("height","100%");
      $(".tab-empty").css("height","85vh");
      // $("#support-us-btn").removeClass("d-none").hide().fadeIn(1500);
      chatMinimize();
          }, 6000);
	};

    
});

function isClientOpen() {
  var iframe = $("#panel-client iframe")[0];
  if (iframe && iframe.contentWindow && typeof iframe.contentWindow.clientWindowOpen !== 'undefined') {
    return true;
  }else{
    return false;
  }
}

function closeClientWindow(){
  setTimeout(function() {
    window._launchingClient = false;
    window._crMisses = 0;
    window._clientOpenAt = 0;
    if(isClientOpen()){
      currentClient = 999;
      clientOpen = false;
      $('.nav-item p:contains(Resume Playing)').html(playNowIcon);
      $('a.nav-link.active').removeClass("active");
      $(".navbar .nav-link:contains("+clientTabName+")").prev(".btn-iframe-close").click();
      $(".nav-stop-client.osrs-section img").attr("src", "").hide();
      setFullWindow(false);
      $.ambiance({message: "<i class='fas fa-check-circle mr-1 ml-1'></i> Your client has been successfully stopped!",type: 'success', width: '350', extraClassMain: "ambiance-bottom-right", timeout: 15});
    }
  }, 1000);
}

function clientDeauth() {
  $.ajax({
        type: 'POST',
        url: './client',
        cache: false,
        data: { 'deauth': 'true' },
        complete: function(data) {
            res = data.responseText.split("|");
            if(res[0] == "fast"){
              $.ambiance({message: "<i class='fas fa-exclamation-triangle mr-1 ml-1'></i> You are performing actions too quickly!<br>Please wait a minute and try again.",type: 'error', width: '340', extraClassMain: "ambiance-bottom-right", timeout: 15});
              //toastr.error("You are performing actions too quickly.<br>Please wait a minute and try again.", "", { timeOut: 15000 });
              // infoModal("","<div class='text-center font-weight-bold text-lg'><i class='text-danger fas fa-exclamation-circle mr-1'></i> You are performing actions too quickly.<br>Please wait a minute and try again.</div>", false, false, 8000, true);
            }else if(res[0] != "success"){
              $.ambiance({message: "<i class='fas fa-exclamation-triangle mr-1 ml-1'></i> An error occured while attempting to stop your client.",type: 'error', width: '430', extraClassMain: "ambiance-bottom-right", timeout: 15});
              //toastr.error("An error occured while trying to stop your client.", "", { timeOut: 15000 });
              // infoModal("","<div class='text-center font-weight-bold text-lg'><i class='text-danger fas fa-exclamation-circle mr-1'></i> An error occured while trying to stop your client.</div>", false, false, 8000, true);
            }else{
              //toastr.success("Your client has been successfully stopped!", "", { timeOut: 15000 });
              // infoModal("","<div class='text-center font-weight-bold text-lg'><i class='text-success fas fa-check-circle mr-1'></i> Your client has been successfully stopped!</div>", false, false, 8000, true);
              closeClientWindow();
            }
        },
        async: false,
  });
  console.log("Deauth request sent");
}
function clientStop(){
  if(currentClient == 99){
    currGame = "RS3";
  }else{
    currGame = "OSRS";
  }
  infoModal("","<div class='text-center'><span class='text-bld text-warning text-lg'>This will exit your "+currGame+" session immediately.</span><br><br>Please ensure you properly logout of "+currGame+" before continuing...</div><hr><div class='justify-content-between'><span class='btn btn-warning btn-sm bg-gradient-warning mr-auto font-weight-bold' data-dismiss='modal' onclick='clientDeauth();'><i class='fas fa-stop-circle mr-2'></i> Stop Session</span> <span class='btn bg-gradient-secondary btn- float-right btn-sm font-weight-bold' data-dismiss='modal'><i class='fas fa-undo mr-2'></i> Return</span></div>", false);
}

function arrangeWindows(windowLayout) {
  windowMsg = "You do not have any windows to arrange!";
  $.ajax({
        type: 'POST',
        url: './client',
        cache: false,
        data: { 'layoutType': windowLayout },
        complete: function(data) {
            res = data.responseText.split("|");
            windowStatus = res[0];
            if(res[1] != ""){
              windowMsg = res[1];
            }
            if(res[0] != "true"){
              $.ambiance({message: "<i class='fas fa-exclamation-triangle mr-1 ml-1'></i> "+windowMsg, type: 'error', width: '350', extraClassMain: "ambiance-bottom-right", timeout: 15});
              //toastr.error("", windowMsg, { timeOut: 15000 });
            }
        },
        async: false,
  });
}

var isFullWindow = false;
function toggleFullscreen() {
  if (!$('body').hasClass('layout-top-nav')) {
        $('body').addClass('layout-top-nav');
        $('.main-sidebar').hide();
        hideTopNav(true);
        isFullWindow = true;
    } else if ($('body').hasClass('layout-top-nav')) {
        $('body').removeClass('layout-top-nav');
        $('.main-sidebar').show();
        hideTopNav(false);
        isFullWindow = false;
    }
}

function setFullWindow(enable) {
    if (enable && !$('body').hasClass('layout-top-nav')) {
        $('body').addClass('layout-top-nav');
        $('.main-sidebar').hide();
        hideTopNav(true);
        isFullWindow = true;
    } else if (!enable && $('body').hasClass('layout-top-nav')) {
        $('body').removeClass('layout-top-nav');
        $('.main-sidebar').show();
        hideTopNav(false);
        isFullWindow = false;
    }
}

function hideTopNav(enable){
    //$("#footer-main,#footer-tabs").toggle();
    if (enable) {
        //$(".navbar").addClass("is-hidden").hide();
        // $("#footer-main").hide();
        // $("#footer-tabs").show();
        $(".navbar").css({
            "height": "0",
            "border": "none",
            "padding": "0",
            "margin": "0",
            "background": "none",
            "z-index": "-99"
        });
        $(".tab-pane iframe").each(function() {
            var currentHeight = $(this).height();
            $(this).height(currentHeight + 41);
        });
    } else {
        // $("#footer-main").show();
        // $("#footer-tabs").hide();
        //$(".navbar").removeClass("is-hidden").show();
        $(".navbar").removeAttr("style");
        $(".tab-pane iframe").each(function() {
            var currentHeight = $(this).height();
            $(this).height(currentHeight - 41);
        });
    }
}

function infoModal(header, msg, btn, btnBg="btn-dark", timeout=0, allowExit=false){
    if(allowExit == false){
      $("#info-modal .close").hide();
    }else{
      $("#info-modal .close").show();
    }
    if(header != false){
      $("#info-modal .modal-header").show();
      $("#info-modal .modal-title").html(header);
    }else{
      $("#info-modal .modal-header").hide();
    }
    $("#info-modal .modal-body").html(msg);
    if(btn != false){
      $("#info-modal .modal-footer").show();
      $("#info-modal .modal-footer button").html(btn);
    }else{
      $("#info-modal .modal-footer").hide();
    }
    $("#info-modal .modal-footer button").removeClass().addClass("btn text-md font-weight-bold " + btnBg);
    $("#info-modal").modal('show');
    if(timeout > 0){
      console.log(timeout)
      setTimeout(function() { $('#info-modal').modal('hide'); }, timeout);
    }
}


$(window).on('beforeunload', function() {
    if (logmeout == false) {
      var c = confirm();
      if (c) {
        return true;
      } else
        return false;
    }
});

var logmeout = false;
function doLogout() {
  logmeout = true;
  window.location.href='./logout';
}
function logOut() {
  infoModal("","<div class='row'><div class='col-3'><img src='dist/img/osrs/diango_chathead.png' width='100' height='auto'></div><div class='col-9 pl-4 mt-2 text-center'><span class='text-warning text-bold text-lg'>Are you sure you want to logout?</span><br><br><span class='btn btn-sm bg-gradient-light text-bold mr-5 pr-3' onclick='doLogout();'><i class='fas fa-sign-out text-danger mr-2'></i> Yes</span> <span class='btn btn-sm bg-gradient-light text-bold pr-3' style='margin-left:100px' data-dismiss='modal' aria-label='Close'><i class='fas fa-undo text-info mr-2'></i> No</span></div></div>", false, false);
  // toastr.error("<button type='button' id='confirmationLogout' class='btn btn-warning btn-block mt-1 font-weight-bold'><i class='fas fa-check-circle mr-2'></i> Yes</button>",'<span class="">Are you sure you want to logout?</span>',
  // {
  //     closeButton: false,
  //     allowHtml: true,
  //     timeOut: 15000,
  //     onShown: function (toast) {
  //         $("#confirmationLogout").click(function(){
  //           logmeout = true;
  //           window.location.href='./logout';
  //         });
  //     }
  // });
}

// Timer on page
var lastHbCheck = 0;
var timeonpage = 55;
function renderTime(val) {
  var hours = Math.floor(val / 3600);
  var minutes = Math.floor((val - (hours*3600)) / 60);
  var seconds = Math.floor(val % 60);
  if(hours != 0){
    var timeText = hours + "h " + minutes + "m " + ("0" + seconds).slice(-2) + "s";
  }else if(minutes != 0){
    var timeText = minutes + "m " + ("0" + seconds).slice(-2) + "s";
  }else{
    var timeText = ("0" + seconds).slice(-2) + "s";  
  }
  $("#latency-next-check").html(Math.round((300 - (timeonpage-lastHbCheck)) / 60));
  $("#activetimer").html(timeText);
}
timerId = window.setInterval(function(){
    timeonpage++;
    renderTime(timeonpage);
}, 1000);

function updatePlayerCounts() {
      $.ajax({
        type: 'GET',
        url: 'https://api.runelite.net/session/count',
        cache: false,
        complete: function(data) {
          const onlinePlayers = Number(data.responseText);
          if (!isNaN(onlinePlayers)) {
            const formattedPlayers = onlinePlayers.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
            $("#players-online").html(formattedPlayers);
          }
        }
      });
      $.ajax({
        type: 'GET',
        url: 'https://api.runelite.net/session/count/logged-in',
        cache: false,
        complete: function(data) {
          const inGamePlayers = Number(data.responseText);
          if (!isNaN(inGamePlayers)) {
            const formattedPlayers = inGamePlayers.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
            $("#players-in-game").html(formattedPlayers);
          }
        }
      });
      // $.ajax({
      //     type: 'GET',
      //     url: './client?web-players',
      //     cache: false,
      //     complete: function(data) {
      //         var num = parseFloat(data.responseText.replace(/[^0-9.]/g, ''));
      //         if (!isNaN(num)) {
      //             $("#web-players").html((num.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, ",")) + " online");
      //         }
      //     }
      // });     
}

// Latency and data
var numHbFailed = 0;
var membershipLevel = 0;
var rlNotificationInterval = null;
let runeliteNotifications = [];

  // function sendHb() {
  //   clientOpen = false;
  //   if($("#panel-client iframe, #panel-client-rs3 iframe").length > 0 && (Date.now()-lastActive) < inactiveTimeout){
  //     clientOpen = true;
  //   }
  //   $.ajax({
  //     type: 'POST',
  //     url: './client',
  //     data: { 'pulse': 'true', 'client': clientOpen },
  //     dataType: 'json',
  //     cache: false,
  //     success: function(data) {
  //       //data = JSON.parse(data);
  //       //res = data.responseText.split("|");
  //       // Check for notifications
  //       if (data['notificationTitle'] != null && $('#runelite-notifications-show').is(':checked')) {
  //         //title: "<div class='text-center'>"+data['notificationTitle']+"</div>", 
  //         $.ambiance({message: "<div class='row' style='cursor:pointer' onclick='$(this).parent().remove()'><div class='col-2'><img src='dist/img/osrs/clients/icons/runelite.png' style='width:40px;height:33px'></div><div class='col-10 text-sm text-truncate text-left' style='line-height:35px'>"+data['notificationMsg']+"</div></div>", width: '350', timeout: onPage ? 15 : 0, permanent: onPage ? false : true});
  //         runeliteNotifications.push({ 
  //             time: new Date().toISOString().split('T')[0] + ' ' + 
  //                   new Date().toTimeString().split(' ')[0], 
  //             text: data['notificationMsg']
  //         });
  //         if(!onPage){
  //           if($('#runelite-notification-sound').val() !== "none" && !$("#hidescreen").is(":visible")){
  //             var audio = new Audio('dist/audio/effects/' + $('#runelite-notification-sound').val());
  //             audio.volume = $('#runelite-notification-volume').val();
  //             audio.play();
  //             flashTitle(data['notificationMsg'], 120);
  //           }
  //           if (!rlNotificationInterval) {
  //             rlNotificationInterval = setInterval(function() {
  //               if (onPage) {
  //                 clearInterval(rlNotificationInterval);
  //                 rlNotificationInterval = null;
  //                 setTimeout(function() { $.ambianceRemoveAll(); }, 30000);
  //               }
  //             }, 2000);
  //           }
  //         }
  //       }
  //       // Update web players
  //       if (!isNaN(data['web-players'])) {
  //           $("#web-players").html((data['web-players'].toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, ",")) + " online");
  //       }
  //       timeonpage = data['time'];
  //       lastHbCheck = data['time'];
  //       // clientRunning = data['clientRunning'];
  //       // membershipLevel = data['membershipLevel'];
  //       // if (data['clientRunning'] == "false" && clientOpen){
  //       //   closeClientWindow();
  //       // }

  //       clientRunning = data['clientRunning'];
  //       membershipLevel = data['membershipLevel'];
  //       const now = Date.now();
  //       const withinGrace = (now - (window._clientOpenAt || 0)) < 120000; // 20s grace
  //       if(clientRunning != null){
  //         if (clientRunning === "true") {
  //           window._crMisses = 0;
  //           window._launchingClient = false;   // were up
  //         } else if (clientOpen) {
  //           // Only consider closing if were past grace and not launching
  //           if (!withinGrace && !window._launchingClient) {
  //             window._crMisses = (window._crMisses || 0) + 1;
  //             if (window._crMisses >= 2) {     // require 2 consecutive not running
  //               console.log("No client running, close window");
  //               closeClientWindow();
  //             }
  //           }
  //         }
  //       }

  //       updateMembershipStatus();
  //       if (data['status'] == "success") {
  //         console.log("Heartbeat...success");
  //         numHbFailed = 0;     
  //         refreshSn();
  //       }else if (data['status'] == "exit") {
  //         logmeout = true;
  //         window.location.href='./';
  //         return;
  //       }else if (data['status'] == "logout") {
  //         logmeout = true;
  //         window.location.href='./logout';
  //         return;
  //       } else {
  //         numHbFailed++;
  //         console.log("Heartbeat...failed");
  //         // if (numHbFailed > 3) {
  //         //   logMeOut();
  //         // }
  //         refreshSn();
  //       }
  //     },
  //     error: function(jqXHR, textStatus, errorThrown) {
  //       console.log("Error encountered: ", textStatus, errorThrown);
  //       // Retry after 6 seconds
  //       setTimeout(sendHb, 6000);
  //     }
  //   });
  // }

// ---- Heartbeat (no overlaps, simple backoff) ----
let hbInFlight = false;
let hbTimer = null;
let hbBackoff = 8000;                  // start at 8s
const HB_MIN = 8000;                   // normal cadence
const HB_MAX = 60000;                  // cap retry to 60s

function scheduleHb(delay = HB_MIN) {
  clearTimeout(hbTimer);
  hbTimer = setTimeout(sendHb, delay);
}

function sendHb() {
  if (hbInFlight){
    console.log('Heartbeat in flight...skipping');
    return;
  }
  hbInFlight = true;

  let clientOpen = false;
  if ($("#panel-client iframe, #panel-client-rs3 iframe").length > 0 &&
      (Date.now() - lastActive) < inactiveTimeout) {
    clientOpen = true;
  }

  $.ajax({
    type: 'POST',
    url: './client',
    data: { pulse: 'true', client: clientOpen },
    dataType: 'json',
    cache: false,
    timeout: 10000 // avoid hanging forever; triggers error->retry
  })
  .done(function (data) {
    // ====== your existing success logic (unchanged) ======
    if (data['notificationTitle'] != null && $('#runelite-notifications-show').is(':checked')) {
      $.ambiance({message: "<div class='row' style='cursor:pointer' onclick='$(this).parent().remove()'><div class='col-2'><img src='dist/img/osrs/clients/icons/runelite.png' style='width:40px;height:33px'></div><div class='col-10 text-sm text-truncate text-left' style='line-height:35px'>"+data['notificationMsg']+"</div></div>", width: '350', timeout: onPage ? 15 : 0, permanent: onPage ? false : true});
      runeliteNotifications.push({ 
        time: new Date().toISOString().split('T')[0] + ' ' + new Date().toTimeString().split(' ')[0],
        text: data['notificationMsg']
      });
      if (!onPage) {
        if($('#runelite-notification-sound').val() !== "none" && !$("#hidescreen").is(":visible")){
          var audio = new Audio('dist/audio/effects/' + $('#runelite-notification-sound').val());
          audio.volume = $('#runelite-notification-volume').val();
          audio.play();
          flashTitle(data['notificationMsg'], 120);
        }
        if (!rlNotificationInterval) {
          rlNotificationInterval = setInterval(function() {
            if (onPage) {
              clearInterval(rlNotificationInterval);
              rlNotificationInterval = null;
              setTimeout(function() { $.ambianceRemoveAll(); }, 30000);
            }
          }, 2000);
        }
      }
    }

    if (!isNaN(data['web-players'])) {
      $("#web-players").html((data['web-players'].toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, ",")) + " online");
    }

    timeonpage = data['time'];
    lastHbCheck = data['time'];

    clientRunning = data['clientRunning'];
    membershipLevel = data['membershipLevel'];
    const now = Date.now();
    const withinGrace = (now - (window._clientOpenAt || 0)) < 120000; // 20s? comment says 20s; value is 120s
    if (clientRunning != null) {
      if (clientRunning === "true") {
        window._crMisses = 0;
        window._launchingClient = false;
      } else if (clientOpen) {
        if (!withinGrace && !window._launchingClient) {
          window._crMisses = (window._crMisses || 0) + 1;
          if (window._crMisses >= 2) {
            console.log("No client running, close window");
            closeClientWindow();
          }
        }
      }
    }

    updateMembershipStatus();

    if (data['status'] === "success") {
      console.log("Heartbeat...success");
      numHbFailed = 0;
      hbBackoff = HB_MIN;              // reset backoff on success
    } else if (data['status'] === "exit") {
      logmeout = true;
      window.location.href = './';
      return;                          // stop scheduling
    } else if (data['status'] === "logout") {
      logmeout = true;
      window.location.href = './logout';
      return;                          // stop scheduling
    } else {
      numHbFailed++;
      console.log("Heartbeat...failed");
      hbBackoff = Math.min(Math.floor(hbBackoff * 1.5), HB_MAX);
    }
  })
  .fail(function (jqXHR, textStatus, errorThrown) {
    console.log("Error encountered: ", textStatus, errorThrown);
    hbBackoff = Math.min(Math.floor(hbBackoff * 1.5), HB_MAX);
  })
  .always(function () {
    hbInFlight = false;
    // Only schedule the next attempt AFTER this one finished
    scheduleHb(hbBackoff);
  });
}

// kick off initial heartbeat a bit after load
scheduleHb(3000);

// function latencyCheck() {
//   var startTime = (new Date()).getTime(),endTime;
//   $.ajax({
//     type: 'POST',
//     url: './client',
//     data: { 'latencyCheck': 'true'},
//     dataType: 'json',
//     cache: false,
//     success: function(data) {
//       endTime = (new Date()).getTime();
//       latencyVal = (endTime - startTime);
//       $("#latency").html(Math.round(latencyVal / 5.4) + 'ms');
//     }
//   });
// }
// latencyCheck();
// setInterval(latencyCheck, 120000);

let latencyTimer = null;
let latencyInFlight = false;
function scheduleLatency(delay = 120000) {
  clearTimeout(latencyTimer);
  latencyTimer = setTimeout(latencyCheck, delay);
}
function latencyCheck() {
  if (latencyInFlight) return;
  latencyInFlight = true;
  const startTime = Date.now();
  $.ajax({
    type: 'POST',
    url: './client',
    data: { latencyCheck: 'true' },
    dataType: 'json',
    cache: false,
    timeout: 10000
  })
  .done(function () {
    const latencyVal = Date.now() - startTime;
    $("#latency").html(Math.round(latencyVal / 5.4) + 'ms');
  })
  .always(function () {
    latencyInFlight = false;
    scheduleLatency(120000); // run again after 2 min
  });
}
scheduleLatency(0);


  function updateMembershipStatus() {
    membershipColor = "#dedede";
    membershipStatus = "Free";
          if(membershipLevel == 0){
        membershipColor = "#dedede";
        membershipStatus = "Free";
      }
          if(membershipLevel == 1){
        membershipColor = "#e6b329";
        membershipStatus = "Member";
      }
          if(membershipLevel == 2){
        membershipColor = "#b448b8";
        membershipStatus = "Supporter";
      }
        $("#membership-status, #membership-star").css("color",membershipColor);
    $("#membership-status").text(membershipStatus);
  }

  updatePlayerCounts();
  setInterval(updatePlayerCounts, 120000);

  function checkDimensions() {
        var windowHeight = $(window).height();
        var windowWidth = $(window).width();
        if (windowHeight < 830 || windowWidth < 1065) {
          $(".screen-too-small").show();
        } else {
          $(".screen-too-small").hide();
        }
  }

  $(document).ready(function() {

    const userAgent = navigator.userAgent.toLowerCase();
    const isTablet = /(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(userAgent);
    if(isTablet) {
      infoModal("","<div class='row'><div class='col-3'><img src='dist/img/osrs/diango_chathead.png' width='100' height='auto'></div><div class='col-9 pl-4 mt-2 text-center'><span class='text-warning text-bold text-lg'>Attention Tablet Users</span><br><br><div class='text-left'>Please note that our platform is not fully compatible with tablet devices. Some features may not work correctly, including the on-screen keyboard. For the best experience, we recommend using a desktop or laptop computer. Thank you for your understanding.</div><br></div> <span class='btn btn-sm btn-block bg-gradient-light text-bold' data-dismiss='modal' aria-label='Close'>Close</span></div>", false, false);
    }

    if (window.IsDuplicate()) {
      $(".wrapper, #page-load").remove();
      $("#duplicate-window").show();
      logmeout = true;
    }else{
      $("#duplicate-window").remove();
    }
    updatePlayerCounts();

    // Check the window dimensions on window resize
    // $(window).resize(function() {
    //   checkDimensions();  
    // });
    // checkDimensions();
  });
</script>

<script>
!function(n,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.DisableDevtool=e():n.DisableDevtool=e()}(this,(function(){return function(n){var e={};function t(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return n[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=n,t.c=e,t.d=function(n,e,o){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:o})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var i in n)t.d(o,i,function(e){return n[e]}.bind(null,i));return o},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t(t.s=0)}([function(n,e,t){"use strict";function o(n){return-1!==navigator.userAgent.toLocaleLowerCase().indexOf(n)}t.r(e);var i=function(){try{return window.self!==window.top}catch(n){return!0}}(),r=o("qqbrowser"),u=o("firefox"),c=o("macintosh"),a=o("edge"),l=a&&!o("chrome")||o("trident")||o("msie"),f=o("crios"),d=o("edgios"),v={UNKONW:-1,REG_TO_STRING:0,DEFINE_ID:1,SIZE:2,DATE_TO_STRING:3,FUNC_TO_STRING:4,DEBUGGER:5};var s=!1;var w,p={};for(var y in v)p[v[y]]=!1;function m(n){p[n]=!0}function b(n){p[n]=!1}function h(){for(var n in p)if(p[n])return s=!0,!0;return s=!1,!1}function g(){var n=function(){if(T(window.devicePixelRatio))return window.devicePixelRatio;var n=window.screen;if(T(n))return!1;if(n.deviceXDPI&&n.logicalXDPI)return n.deviceXDPI/n.logicalXDPI;return!1}();if(!1===n)return!0;var e=v.SIZE,t=window.outerWidth-window.innerWidth*n>200,o=window.outerHeight-window.innerHeight*n>300;return t||o?(G(e),!1):(b(e),!0)}function T(n){return null!=n}function E(n){throw new Error('"'+n+'" is read-only')}function D(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var I,_=(D(w={},v.REG_TO_STRING,r||u),D(w,v.DEFINE_ID,!0),D(w,v.SIZE,!i&&!a),D(w,v.DATE_TO_STRING,!f&&!d),D(w,v.FUNC_TO_STRING,!f&&!d),D(w,v.DEBUGGER,f||d),w);function O(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var S=(O(I={},v.REG_TO_STRING,(function(){var n=v.REG_TO_STRING,e=0,t=/./;z(t),t.toString=function(){if(r){var t=(new Date).getTime();e&&t-e<100?G(n):e=t}else u&&G(n);return""},A(n,(function(){z(t)}))})),O(I,v.DEFINE_ID,(function(){var n=v.DEFINE_ID,e=document.createElement("div");e.__defineGetter__("id",(function(){G(n)})),Object.defineProperty(e,"id",{get:function(){G(n)}}),A(n,(function(){z(e)}))})),O(I,v.SIZE,(function(){g(),window.addEventListener("resize",(function(){setTimeout(g,100)}),!0)})),O(I,v.DATE_TO_STRING,(function(){var n=v.DATE_TO_STRING,e=0,t=new Date;t.toString=function(){return e++,""},A(n,(function(){e=0,z(t),X(),e>=2&&G(n)}))})),O(I,v.FUNC_TO_STRING,(function(n){if(!n){var e=v.FUNC_TO_STRING,t=0,o=function(){};o.toString=function(){return t++,""};A(e,(function(){t=0,z(o),X(),t>=2&&G(e)}))}})),O(I,v.DEBUGGER,(function(n){if(n){var e=v.DEBUGGER;A(e,(function(){var n=Date.now();Date.now()-n>100&&G(e)}))}})),I);function N(){("all"===F.detectors?Object.keys(S):F.detectors).forEach((function(n){!function(n,e){if("function"==typeof e){var t=_[n];void 0===t?(E("value"),t=!0):"function"==typeof t&&(E("value"),t=t()),!0===t&&e()}}(n,S[n])}))}function G(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.UNKONW;console.warn("You ar not allow to use DEVTOOL! type = ".concat(n,"")),F.clearIntervalWhenDevOpenTrigger&&L(),U(),F.ondevtoolopen(n,K),m(n)}function R(){if("function"==typeof F.ondevtoolclose){var n=s;!h()&&n&&F.ondevtoolclose()}}var x=null,j=null,C=[],P=0;function k(){var n,e,t,o,i,r,u=!1,c=function(){u=!0},a=function(){u=!1};n=c,e=a,t=window.alert,o=window.confirm,i=window.prompt,r=function(t){return function(){n&&n(),t.apply(void 0,arguments),e&&e()}},window.alert=r(t),window.confirm=r(o),window.prompt=r(i),function(n,e){var t,o,i;void 0!==document.hidden?(t="hidden",i="visibilitychange",o="visibilityState"):void 0!==document.mozHidden?(t="mozHidden",i="mozvisibilitychange",o="mozVisibilityState"):void 0!==document.msHidden?(t="msHidden",i="msvisibilitychange",o="msVisibilityState"):void 0!==document.webkitHidden&&(t="webkitHidden",i="webkitvisibilitychange",o="webkitVisibilityState");var r=function(){document[o]===t?e():n()};document.removeEventListener(i,r,!1),document.addEventListener(i,r,!1)}(a,c),x=window.setInterval((function(){u||(C.forEach((function(n){var e=n.type,t=n.handle;b(e),t(P++)})),X(),R())}),F.interval),j=setTimeout((function(){/(iphone|ipad|ipod|ios|android)/i.test(navigator.userAgent.toLowerCase())&&L()}),F.stopIntervalTime)}function A(n,e){C.push({type:n,handle:e})}function L(){window.clearInterval(x)}function U(){window.clearTimeout(j)}function K(){if(L(),F.url)window.location.href=F.url;else{try{window.opener=null,window.open("","_self"),window.close(),window.history.back()}catch(n){console.log(n)}setTimeout((function(){window.location.href="https://tackchen.gitee.io/404.html?h=".concat(encodeURIComponent(location.host))}),500)}}function W(n){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}var F={md5:"",ondevtoolopen:K,ondevtoolclose:null,url:"",tkName:"ddtk",interval:200,disableMenu:!0,stopIntervalTime:5e3,clearIntervalWhenDevOpenTrigger:!1,detectors:"all",clearLog:!0,disableSelect:!1,disableCopy:!1,disableCut:!1},H=["detectors","ondevtoolclose"];function V(){"function"==typeof F.ondevtoolclose&&!0===F.clearIntervalWhenDevOpenTrigger&&(F.clearIntervalWhenDevOpenTrigger=!1,console.warn("DISABLE-DEVTOOLclearIntervalWhenDevOpenTrigger  ondevtoolclose "))}var M=window.console||{log:function(){}},z=l?function(){return M.log.apply(M,arguments)}:M.log,B=l?function(){return M.clear()}:M.clear;function X(){F.clearLog&&B()}function Z(){var n=73,e=85,t=83,o=123,i=c?function(e,t){return e.metaKey&&e.altKey&&t===n}:function(e,t){return e.ctrlKey&&e.shiftKey&&t===n},r=c?function(n,o){return n.metaKey&&n.altKey&&o===e||n.metaKey&&o===t}:function(n,o){return n.ctrlKey&&(o===t||o===e)};window.addEventListener("keydown",(function(n){var e=(n=n||window.event).keyCode||n.which;if(e===o||i(n,e)||r(n,e))return n.returnValue=!1,n.preventDefault(),!1}),!0),F.disableMenu&&q(window,"contextmenu"),F.disableSelect&&q(window,"selectstart"),F.disableCopy&&q(window,"copy"),F.disableCut&&q(window,"cut")}function q(n,e){n.addEventListener(e,(function(n){return(n=n||window.event).returnValue=!1,n.preventDefault(),!1}))}function Y(n,e,t,o,i,r){return en((u=en(en(e,n),en(o,r)))<<(c=i)|u>>>32-c,t);var u,c}function $(n,e,t,o,i,r,u){return Y(e&t|~e&o,n,e,i,r,u)}function J(n,e,t,o,i,r,u){return Y(e&o|t&~o,n,e,i,r,u)}function Q(n,e,t,o,i,r,u){return Y(e^t^o,n,e,i,r,u)}function nn(n,e,t,o,i,r,u){return Y(t^(e|~o),n,e,i,r,u)}function en(n,e){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}var tn=function(n){return function(n){for(var e="0123456789abcdef",t="",o=0;o<4*n.length;o++)t+=e.charAt(n[o>>2]>>o%4*8+4&15)+e.charAt(n[o>>2]>>o%4*8&15);return t}(function(n,e){n[e>>5]|=128<<e%32,n[14+(e+64>>>9<<4)]=e;for(var t=1732584193,o=-271733879,i=-1732584194,r=271733878,u=0;u<n.length;u+=16){var c=t,a=o,l=i,f=r;t=$(t,o,i,r,n[u+0],7,-680876936),r=$(r,t,o,i,n[u+1],12,-389564586),i=$(i,r,t,o,n[u+2],17,606105819),o=$(o,i,r,t,n[u+3],22,-1044525330),t=$(t,o,i,r,n[u+4],7,-176418897),r=$(r,t,o,i,n[u+5],12,1200080426),i=$(i,r,t,o,n[u+6],17,-1473231341),o=$(o,i,r,t,n[u+7],22,-45705983),t=$(t,o,i,r,n[u+8],7,1770035416),r=$(r,t,o,i,n[u+9],12,-1958414417),i=$(i,r,t,o,n[u+10],17,-42063),o=$(o,i,r,t,n[u+11],22,-1990404162),t=$(t,o,i,r,n[u+12],7,1804603682),r=$(r,t,o,i,n[u+13],12,-40341101),i=$(i,r,t,o,n[u+14],17,-1502002290),o=$(o,i,r,t,n[u+15],22,1236535329),t=J(t,o,i,r,n[u+1],5,-165796510),r=J(r,t,o,i,n[u+6],9,-1069501632),i=J(i,r,t,o,n[u+11],14,643717713),o=J(o,i,r,t,n[u+0],20,-373897302),t=J(t,o,i,r,n[u+5],5,-701558691),r=J(r,t,o,i,n[u+10],9,38016083),i=J(i,r,t,o,n[u+15],14,-660478335),o=J(o,i,r,t,n[u+4],20,-405537848),t=J(t,o,i,r,n[u+9],5,568446438),r=J(r,t,o,i,n[u+14],9,-1019803690),i=J(i,r,t,o,n[u+3],14,-187363961),o=J(o,i,r,t,n[u+8],20,1163531501),t=J(t,o,i,r,n[u+13],5,-1444681467),r=J(r,t,o,i,n[u+2],9,-51403784),i=J(i,r,t,o,n[u+7],14,1735328473),o=J(o,i,r,t,n[u+12],20,-1926607734),t=Q(t,o,i,r,n[u+5],4,-378558),r=Q(r,t,o,i,n[u+8],11,-2022574463),i=Q(i,r,t,o,n[u+11],16,1839030562),o=Q(o,i,r,t,n[u+14],23,-35309556),t=Q(t,o,i,r,n[u+1],4,-1530992060),r=Q(r,t,o,i,n[u+4],11,1272893353),i=Q(i,r,t,o,n[u+7],16,-155497632),o=Q(o,i,r,t,n[u+10],23,-1094730640),t=Q(t,o,i,r,n[u+13],4,681279174),r=Q(r,t,o,i,n[u+0],11,-358537222),i=Q(i,r,t,o,n[u+3],16,-722521979),o=Q(o,i,r,t,n[u+6],23,76029189),t=Q(t,o,i,r,n[u+9],4,-640364487),r=Q(r,t,o,i,n[u+12],11,-421815835),i=Q(i,r,t,o,n[u+15],16,530742520),o=Q(o,i,r,t,n[u+2],23,-995338651),t=nn(t,o,i,r,n[u+0],6,-198630844),r=nn(r,t,o,i,n[u+7],10,1126891415),i=nn(i,r,t,o,n[u+14],15,-1416354905),o=nn(o,i,r,t,n[u+5],21,-57434055),t=nn(t,o,i,r,n[u+12],6,1700485571),r=nn(r,t,o,i,n[u+3],10,-1894986606),i=nn(i,r,t,o,n[u+10],15,-1051523),o=nn(o,i,r,t,n[u+1],21,-2054922799),t=nn(t,o,i,r,n[u+8],6,1873313359),r=nn(r,t,o,i,n[u+15],10,-30611744),i=nn(i,r,t,o,n[u+6],15,-1560198380),o=nn(o,i,r,t,n[u+13],21,1309151649),t=nn(t,o,i,r,n[u+4],6,-145523070),r=nn(r,t,o,i,n[u+11],10,-1120210379),i=nn(i,r,t,o,n[u+2],15,718787259),o=nn(o,i,r,t,n[u+9],21,-343485551),t=en(t,c),o=en(o,a),i=en(i,l),r=en(r,f)}return Array(t,o,i,r)}(function(n){for(var e=Array(),t=0;t<8*n.length;t+=8)e[t>>5]|=(255&n.charCodeAt(t/8))<<t%32;return e}(n),8*n.length))};function on(n){!function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var e in F)void 0===n[e]||W(F[e])!==W(n[e])&&-1===H.indexOf(e)||(F[e]=n[e]);V()}(n),function(){if(F.md5){var n=function(n){var e=window.location.search,t=window.location.hash;if(""===e&&""!==t&&(e="?".concat(t.split("?")[1])),""!==e&&void 0!==e){var o=new RegExp("(^|&)"+n+"=([^&]*)(&|$)","i"),i=e.substr(1).match(o);if(null!=i)return unescape(i[2])}return""}(F.tkName);if(tn(n)===F.md5)return!0}return!1}()||(k(),Z(),N())}on.md5=tn,on.version="0.2.5",on.DETECTOR_TYPE=v,on.isDevToolOpened=h,function(){if("undefined"!=typeof document){var n=document.querySelector("[disable-devtool-auto]");if(n){var e={};["md5","url","tk-name","interval","disable-menu","detectors"].forEach((function(t){var o=n.getAttribute(t);null!==o&&("interval"===t?o=parseInt(o):"disable-menu"===t?o="false"!==o:"detector"===t&&"all"!==o&&(o=o.split(" ")),e[function(n){if(-1===n.indexOf("-"))return n;var e=!1;return n.split("").map((function(n){return"-"===n?(e=!0,""):e?(e=!1,n.toUpperCase()):n})).join("")}(t)]=o)})),on(e)}}}();e.default=on}]).default}));

function _0xcbd9(_0x585b8e,_0x3093a4){var _0x636a2c=_0x636a();return _0xcbd9=function(_0xcbd996,_0x1246e0){_0xcbd996=_0xcbd996-0x131;var _0x2f13ac=_0x636a2c[_0xcbd996];return _0x2f13ac;},_0xcbd9(_0x585b8e,_0x3093a4);}function _0x636a(){var _0x46c342=['37265iRfROc','20870030XpPBkX','3XrlVhm','1293651aynepm','10526PrIJcV','116431sEMNsh','188dGwidY','126ZQnhXI','3371048FmzRmX','3010320zibmZt'];_0x636a=function(){return _0x46c342;};return _0x636a();}(function(_0x549720,_0x14b13c){var _0x44c7ee=_0xcbd9,_0x8be119=_0x549720();while(!![]){try{var _0x1a28a4=parseInt(_0x44c7ee(0x137))/0x1*(parseInt(_0x44c7ee(0x139))/0x2)+-parseInt(_0x44c7ee(0x138))/0x3+-parseInt(_0x44c7ee(0x131))/0x4*(parseInt(_0x44c7ee(0x135))/0x5)+-parseInt(_0x44c7ee(0x132))/0x6*(parseInt(_0x44c7ee(0x13a))/0x7)+-parseInt(_0x44c7ee(0x133))/0x8+-parseInt(_0x44c7ee(0x134))/0x9+parseInt(_0x44c7ee(0x136))/0xa;if(_0x1a28a4===_0x14b13c)break;else _0x8be119['push'](_0x8be119['shift']());}catch(_0xc98c93){_0x8be119['push'](_0x8be119['shift']());}}}(_0x636a,0x34c42),DisableDevtool({'url':'https://webosrs.com/home','ondevtoolopen': (type) => { logmeout=true;location.href='https://webosrs.com/home' } })); 
  
</script>

<div class="modal fade" id="info-modal" role="dialog" aria-hidden="true" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content bg-gradient-dark">
        <div class="modal-header">
          <h4 class="modal-title"></h4>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close" style="display:none">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
        </div>
        <div class="modal-footer" style="text-align: center">
          <div style="width:100%;text-align:center">
            <button type="button" class="" data-dismiss="modal"></button>
          </div>
        </div>
      </div>
    </div>
</div>

<style>
@keyframes kofi-wiggle {
  0% {
    transform: rotate(0) scale(1);
  }
  60% {
    transform: rotate(0) scale(1);
  }
  75% {
    transform: rotate(0) scale(1.12);
  }
  80% {
    transform: rotate(0) scale(1.1);
  }
  84% {
    transform: rotate(-10deg) scale(1.1);
  }
  88% {
    transform: rotate(10deg) scale(1.1);
  }
  92% {
    transform: rotate(-10deg) scale(1.1);
  }
  96% {
    transform: rotate(10deg) scale(1.1);
  }
  100% {
    transform: rotate(0) scale(1);
  }
}
</style>

<div id="support-us-btn" class="hiddenUntilReady closed floatingchat-donate-button pl-2 pr-2 d-none" style="opacity:0.8;z-index:10000; background-color: #fcbf47; position: fixed; top: 80px; right: 15px; border-radius: 20px;">
  <a href="#" onclick="showDonateModal()" style="display: flex; align-items: center; justify-content: center; height: 50px; padding: 8px;">
    <img src="https://storage.ko-fi.com/cdn/cup-border.png" class="kofiimg" data-rotation="0" style="margin-right: 8px; height: 25px;animation: kofi-wiggle 3s infinite;">
    <span style="color:#323842; font-size: 16px; font-weight: bold;">Support Us</span>
  </a>
</div>

<div class="modal fade" id="kofiModal" tabindex="-1" role="dialog" aria-labelledby="kofiModalLabel" aria-hidden="true" style="display: none;">
  <div class="modal-dialog modal-dialog-centered modal-lg" role="document" style="max-width: 450px;">
    <div class="modal-content p-0 m-0">
      <div class="modal-body p-0 m-0 pt-2">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" style="position: absolute; top: 5px; right: 5px;">
          <i class="fas fa-times-circle"></i>
        </button>
        <iframe id="ko-fi-iframe" src="https://ko-fi.com/webosrs/?hidefeed=true&widget=true&embed=true" width="100%" height="800" frameborder="0" scrolling="auto"></iframe>
      </div>
    </div>
  </div>
</div>


<!-- Modal -->
<div class="modal fade" id="hear-about-modal" tabindex="-1" role="dialog" aria-labelledby="hear-about-modalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false" style="z-index:99999999999999;">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content bg-gradient-dark rounded border border-secondary">
      <div class="modal-header border-0 justify-content-center">
        <h3 class="modal-title text-warning text-bold">Help Us Improve</h3>
        <button type="button" class="close d-none" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body pt-0">
        <span class="text-muted2" style="#efefef">At webOSRS, we are always striving to improve our services and better understand our customers. Knowing how you heard about us can help us identify which marketing strategies are working and which ones need improvement. This information will allow us to make data-driven decisions and enhance your overall experience with us. Thank you for taking the time to share your thoughts with us.</span>
        <br><br>
        <form id="how-hear-form">
          <div class="form-group">
            <label for="hear-source" class="text-white">How did you hear about us?</label>
            <select class="form-control" id="hear-source" name="hear-source">
              <option value="na" disabled selected>Please select...</option>
              <option value="Internet Search">Internet Search</option>
              <option value="Friend">Friend</option>
              <option value="Social Media">Social Media</option>
              <option value="Other">Other</option>
            </select>
          </div>
          <div class="form-group">
            <label for="hear-details" class="text-white">Details</label>
            <small class="form-text text-mute2d mb-2" style="#efefef">Please provide additional details about how you heard about us.</small>
            <input type="text" class="form-control" id="hear-details" name="hear-details" placeholder="Additional details...">
          </div>
          <div id="other-details-message" class="mt-2 text-center text-warning text-sm " style="display: none;">Please fill out the "Details" field if you selected "Other" as the source.</div>
          <button type="submit" class="btn bg-gradient-success btn-block">Submit</button>
        </form>
      </div>
    </div>
  </div>
</div>


<!-- Donation Modal -->
<!-- <div class="modal fade" id="donationModal" tabindex="-1" role="dialog" aria-labelledby="donationModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content bg-gradient-secondary">
      <div class="modal-header d-flex justify-content-center">
        <h5 class="modal-title text-center text-warning font-weight-bold w-100" id="donationModalLabel">Support webOSRS</h5>
      </div>
      <div class="modal-body border-0">
        <p>Dear webOSRS user, our platform has been built with the vision to provide an accessible and enjoyable gaming experience for all RuneScape enthusiasts. To continue our mission and cover the server costs, we rely heavily on the generous support from users like you.</p>
        <p>By making a donation, you become a key part of our community, contributing directly to the constant improvement and evolution of webOSRS. Every bit of help counts, no matter how small.</p>
        <p>Remember, it's users like you that make webOSRS possible. Thank you for your support!</p>
      </div>
      <div class="modal-footer d-flex justify-content-between border-0">
        <button type="button" class="btn bg-gradient-dark" data-dismiss="modal" style="border:1px solid #ccc;">Close</button>
        <a href="donate_link" class="btn bg-gradient-primary" data-dismiss="modal" data-toggle="modal" data-target="#kofiModal" style="border:1px solid #ccc;">Donate Now</a>
      </div>
    </div>
  </div>
</div> -->


<!-- Donate -->
<div class="modal fade" id="donatemodal" tabindex="-1" role="dialog" aria-labelledby="donatemodal" aria-hidden="true" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog modal-md modal-dialog-centered" role="document">
    <div class="modal-content" style="background:#333;color:#ccc;">
      <div class="modal-header d-none">
        <h5 class="modal-title" id="donatemodal-title"><span style="font-size:20px;font-weight: bold"><i class="fas fa-info-circle"></i> Donation Information:</span><br></h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="$('.modal-backdrop').css('opacity', '0.5');">
          <span aria-hidden="true" style="">&times;</span>
        </button>
      </div>
      <div class="modal-body" id="mod-div">
        <div id="donatemodal-help">
          <strong class="text-lg">Hey!</strong><br><br>
          Our platform has been built with the vision to provide an accessible and enjoyable gaming experience for all RuneScape enthusiasts. To continue our mission and cover the server costs, we rely heavily on the generous support from users like you.<br><br>Currently we have not met our intended monthly goal for donations to keep the lights on.<br>
          <div class="info-box mt-3 mb-3 mt-2 tan-bg p-2">
            <!-- <span class="info-box-icon bg-gradient-dark d-none d-lg-flex mr-3" style="font-size:50px"><i class="fas fa-file-invoice-dollar"></i></span> -->
            <div class="info-box-content">
              <span class="info-box-text text-bold mb-2 text-center" style="font-size:18px;color:#303030;">September Funding Progress:</span>
              <span class="info-box-number text-lg text-center" style="letter-spacing:0.5px;color:#222;font-family:monospace"><span>26%</span></span>
              <div class="progress rounded mt-2 bg-gradient-danger mb-2 border border-secondary" style="height:12px;">
                <div class="progress-bar" style="background:#3cc221;width: 26%"></div>
              </div>
            </div>
          </div>
          <div id="donatemodal-users" class="text-center mb-3 mt-3">
               
            </div>
            <div class="modal-footer justify-content-between pt-2 border-0">
                <a href="#" class="pls-help-btn btn btn-success2 font-weight-bold text-white pt-3 pb-3 pl-3 pr-3" data-dismiss="modal" onclick="showDonatePage()" style="background: linear-gradient(to bottom, rgba(48,48,48, 0.4), rgba(48, 48, 48, 0.7)), url('dist/img/home/bg-tile-btn.png');background-size: 100% 100%;"><i class="fas fa-hands-helping mr-2 text-success"></i> Help Out</a>
                <a href="#" class="pls-help-btn btn btn-danger2 text-white pt-3 pb-3 pl-3 pr-3" data-dismiss="modal" onclick="$('.modal-backdrop').css('opacity', '0.5');" style="background: linear-gradient(to bottom, rgba(48,48,48, 0.4), rgba(48, 48, 48, 0.7)), url('dist/img/home/bg-tile-btn.png');background-size: 100% 100%;"><i class="fas fa-running mr-2 text-danger"></i> Don't Care</a>
                <div class="countdownplshelp text-muted text-center" style="width:100%">
                Please wait...
                <span>10</span>
                </div>
            </div>
        </div>
      </div>
    </div>
  </div>
</div>  

<script>
    var onPage = true;
    document.addEventListener('visibilitychange', function() {
        if (document.visibilityState === 'hidden') {
            onPage = false;
        } else {
            onPage = true;
        }
    });

    function showDonatePage(){
        $('#donatemodal').modal('hide');
        //$('#kofiModal').modal('show');
        iframeOpen("donate", "Donate/Memberships", "./home?page=pricing");
    }

    function showDonateModal(){
        $('.countdownplshelp, .contributorsnowait').hide();
        $('#donatemodal').modal('show');
    }

    function hiscoresLookup(username){
      var hiscoresPanel = $('#panel-hiscores');
      var iframe = hiscoresPanel.find('iframe');
      if (iframe.length > 0) {
          iframe.attr('src', './hiscores?username=' + username);
          $('#tab-hiscores').click();
      } else {
          $('.content-wrapper').IFrame('createTab', 'Hiscores', './hiscores?username='+username, 'hiscores', true);
      }
    }
    
    function iframeOpen(id, title, url, refresh = true) {
      var iframeId = $('#panel-' + id);
      var iframe = iframeId.find('iframe');

      if (iframe.length > 0) {
        if (refresh) {
          iframe.attr('src', url);   // reload
        }
        $('#tab-' + id).click();      // switch to tab
      } else {
        $('.content-wrapper').IFrame('createTab', title, url, id, true);
      }
    }

    function runeliteShowNotifications() {
      let notificationString = "";
      if (runeliteNotifications.length === 0) {
          notificationString = "<div class='text-center mt-4 mb-4'>No notifications.</div>";
      } else {
          notificationString = runeliteNotifications.slice().reverse().map(item => {
              return `<div><b>${item.time}:</b> ${item.text}</div>`;
          }).join('');
      }
      infoModal("", 
          `<div class="text-orange text-center text-bold">
            <img src="dist/img/osrs/clients/icons/runelite.png" class="mr-2" style="width:40px;height:33px;"> <span style="font-size:20px;vertical-align:bottom">Notification Logs</span>
          </div>
          <div class='mt-4 text-sm'>
            <div style='max-height: 200px; overflow-y: scroll;'>${notificationString}</div>
          </div>
          <hr>
          <div class='text-center'>
            <span class='btn btn-block bg-gradient-secondary text-sm font-weight-bold' data-dismiss='modal'>
                <i class='fas fa-check mr-2'></i> Close
            </span>
          </div>`, false
      );
    }

    
</script>


<script>

/* AFK TIMER */

var keepGoing = true;

function startProgress(timeleft, timetotal, $element) {
  clearTimeout(keepGoing);
  progress(timeleft, timetotal, $element);
}

function startProgressBtn($element) {
  clearTimeout(keepGoing);
  var timeset = $('#m').val() * 60 + parseInt($('#s').val());
  progress(timeset,timeset, $element);
}

function stopProgressBtn($element) {
  clearTimeout(keepGoing);
  document.title = doctitle;
  $('#progressBar, #afk-timer-badge').hide();
  $(".afk-timer-icon").show();
}

var originalTitle = document.title;

function flashTitle(title, duration) {
  var flashTitle = title;
  var flashDuration = duration || 10; // default duration is 10 seconds
  document.title = flashTitle;
  var flashIntervalID = setInterval(function() {
    if(onPage){
      document.title = originalTitle;
      clearInterval(flashIntervalID);
    }else{
      document.title = (document.title == flashTitle ? originalTitle : flashTitle);
    }
  }, 1000);
  setTimeout(function() {
    clearInterval(flashIntervalID);
    document.title = originalTitle;
  }, flashDuration * 1000);
}

var doctitle = document.title;

function progress(timeleft, timetotal, $element) {
    var progressBarWidth = timeleft * $("#progressbar-outer").width() / timetotal;
    $('#theprogressbar').attr('aria-valuenow', progressBarWidth);
    $("#progressbar-outer").find('div').animate({ width: progressBarWidth }, timeleft == timetotal ? 0 : 0, "linear");
    var remainingTime = (Math.floor(timeleft/60)) + ":"+ ('0'+(timeleft%60).toString()).slice(-2);
    $("#afk-time-left").html(remainingTime);
    $("#afk-timer-badge").html('<i class="fa fa-clock fa-spin fa-fw"></i> ' + remainingTime);
    document.title = doctitle + ' - ' + remainingTime; // set document title with remaining time
    if(timeleft > 0) {
      $("#progressBar, #afk-timer-badge").show();
      $(".afk-timer-icon").hide();
      keepGoing = setTimeout(function() {
          progress(timeleft - 1, timetotal, $("#progressbar-outer"));
      }, 1000);
    }else{
      $("#progressBar, #afk-timer-badge").hide();
      $(".afk-timer-icon").show();
      if(!$("#hidescreen").is(":visible")){
        var audio = new Audio('dist/audio/beep.mp3');
        audio.volume = $('#volume').val();
        audio.play();
        document.title = doctitle;
        flashTitle("Reset", 10);
      }
    }
}

function showIntro() {
    if (!localStorage.getItem('introShown')) {
      introJs().setOptions({
        exitOnOverlayClick: false,
        exitOnEsc: false
      }).onchange(function(targetElement) {
          setTimeout(function() {
              $('.introjs-skipbutton').hide();
              $('.introjs-tooltipbuttons').css("border","0px solid red");
              $('.introjs-tooltip').css({"background":"#333", "color":"#efefef","border":"2px solid #666"});
          }, 100);
      }).oncomplete(function(targetElement) {
          localStorage.setItem('introShown', true);
          infoModal("","<div class='row text-lg'><div class='col-3'><img src='dist/img/osrs/diango_chathead.png' width='100' height='auto'></div><div class='col-9 pl-4 mt-0'><span class='text-md'>Please let us know if you have any further questions by contacting us on the chat or contact page.</span></div></div><hr><div class='text-center'><span class='btn btn-block2 bg-gradient-white font-weight-bold' data-dismiss='modal'><i class='fas fa-check-circle mr-2'></i> Close</span></div>", false);
      }).start();
    }
}

$(document).ready(function() {

  // RuneLite Notifications
  $('#runelite-notifications-show').prop('checked', localStorage.getItem('runelite-notifications-show') === 'true' || localStorage.getItem('runelite-notifications-show') === null);
  $('#runelite-notifications-show').change(function() {
      localStorage.setItem('runelite-notifications-show', $(this).is(':checked'));
  });
  // Sound
  $('#runelite-notification-sound').val(localStorage.getItem('runelite-notification-sound') || 'osrs_xp_lamp.mp3');
  $('#runelite-notification-sound').change(function() {
      localStorage.setItem('runelite-notification-sound', $(this).val());
      if($('#runelite-notification-sound').val() !== "none"){
        var audio = new Audio('dist/audio/effects/' + $(this).val());
        audio.volume = $('#runelite-notification-volume').val();
        audio.play(); 
      }
  });
  // Volume
  $('#runelite-notification-volume').val(localStorage.getItem('runelite-notification-volume') || '0.50');
  $('#runelite-notification-volume').change(function() {
      localStorage.setItem('runelite-notification-volume', $(this).val());
      if($('#runelite-notification-sound').val() !== "none"){
        var audio = new Audio('dist/audio/effects/' + $('#runelite-notification-sound').val());
        audio.volume = $(this).val();
        audio.play();
      }
  });

  // Chat Notifications
  $('#chat-notifications-show').prop('checked', localStorage.getItem('chat-notifications-show') === 'true' || localStorage.getItem('chat-notifications-show') === null);
  $('#chat-notifications-show').change(function() {
      localStorage.setItem('chat-notifications-show', $(this).is(':checked'));
  });
  // Sound
  $('#chat-notification-sound').val(localStorage.getItem('chat-notification-sound') || 'none');
  $('#chat-notification-sound').change(function() {
      localStorage.setItem('chat-notification-sound', $(this).val());
      if($('#chat-notification-sound').val() !== "none"){
        var audio = new Audio('dist/audio/chat/' + $(this).val());
        audio.volume = $('#chat-notification-volume').val();
        audio.play();
      }
  });
  // Volume
  $('#chat-notification-volume').val(localStorage.getItem('chat-notification-volume') || '0.50');
  $('#chat-notification-volume').change(function() {
      localStorage.setItem('chat-notification-volume', $(this).val());
      if($('#chat-notification-sound').val() !== "none"){
        var audio = new Audio('dist/audio/chat/' + $('#chat-notification-sound').val());
        audio.volume = $(this).val();
        audio.play(); 
      }
  });

  // Liked posts
  var likedPosts = {};
  $('.like-button').click(function() {
      var updateID = $(this).data('id');
      var currentLikes = $(this).data('likes');
      if (likedPosts[updateID]) { alert('You already liked this post');return; }
      likedPosts[updateID] = true;
      $(this).addClass('disabled');
      $.post('updates', { like: 'true', id: updateID }, function(data) {
          var likes = parseInt(data);
          $(this).html('<i class="fas fa-thumbs-up mr-1 ml-1"></i> ' + (currentLikes + 1)).toggleClass('liked');
          $(this).data('likes', currentLikes + 1);
      }.bind(this));
  });

  $('#volume').change(function() {
    var volume = $(this).val();
    var audio = new Audio('dist/audio/beep.mp3');
    audio.volume = volume;
    audio.play();
  });

  $('.preset-afk-timer').click(function() {
      $('.preset-afk-timer').attr('class', 'preset-afk-timer normal');
      $(this).effect("bounce");
      $(this).attr('class', 'preset-afk-timer saturate');
      var self = this;
      setTimeout(function() {
        $(self).attr('class', 'preset-afk-timer normal');
      }, 6000);
  });

  // $(".afk-dropdown").on("hidden.bs.dropdown", function(e) {
  //   $(".user-panel, .user-account-menu").show();
  // });

  // $(".afk-dropdown").on("shown.bs.dropdown", function(e) {
  //   $(".user-panel, .user-account-menu").hide();
  // });

/* END AFK TIMER */

  // Hide submit button on load
  $('#how-hear-form button[type="submit"]').hide();
  // Show submit button when select or input is changed
  $('#hear-source, #hear-details').on('change keyup', function() {
    if ($('#hear-source').val() == 'Other' && $('#hear-details').val().length < 4) {
          $('#other-details-message').show();
          $('#how-hear-form button[type="submit"]').hide();
        } else {
          $('#other-details-message').hide();
          if ($('#hear-source').val()) {
            $('#how-hear-form button[type="submit"]').show();
          } else {
            $('#how-hear-form button[type="submit"]').hide();
          }
    }

  });
  // Handle form submission
  $('#how-hear-form').submit(function(event) {
    event.preventDefault(); // Prevent form from submitting normally

    // Get form data
    var formData = $(this).serialize();
    $('#hear-about-modal').removeAttr('data-backdrop').removeAttr('data-keyboard');
    $('#hear-about-modal .close').removeClass("d-none");
    // Submit form data via AJAX
    $('#hear-about-modal .modal-header').hide();

    $.ajax({
      url: 'vendor/hear-about', // Change this to your PHP script that handles form submission
      type: 'POST',
      data: formData,
      success: function(response) {
        if (response === 'success') {
          // Display success message
          $('#hear-about-modal .modal-body').html('<div class="mt-4 mb-4 text-center text-warning text-lg text-bold">Thank you for your submission!</div>');
        } else {
          // Display error message
          $('#hear-about-modal .modal-body').html('<div class="mt-4 mb-4 text-center text-danger text-lg text-bold">An error occurred. Please try again later.</div>');
        }
        setTimeout(function() { $('#hear-about-modal').modal('hide'); }, 7000);
      },
      error: function(xhr, status, error) {
        // Display error message
        $('#hear-about-modal .modal-body').html('<div class="mt-4 mb-4 text-center text-danger text-lg text-bold">An error occurred. Please try again later.</div>');
        setTimeout(function() { $('#hear-about-modal').modal('hide'); }, 7000);
      }
    });
  });
});
</script>


<div id="hidescreen" style="display:none;background:#fff;position:fixed; top:0; left:0; bottom:0; right:0; width:100%; height:100%!important; border:none; margin:0; padding:0; overflow:hidden; z-index:9999999999999999999;">
    <iframe id="hidescreen-iframe" src="" style="position:fixed; top:0; left:0; bottom:0; right:0; width:100%; height:100%!important; border:none; margin:0; padding:0; overflow:hidden; z-index:99999999999999999999;" frameborder="0"></iframe>
</div>

<script>
function randomString(len, charSet) {
    charSet = charSet || 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
    var randomString = '';
    for (var i = 0; i < len; i++) {
        var randomPoz = Math.floor(Math.random() * charSet.length);
        randomString += charSet.substring(randomPoz,randomPoz+1);
    }
    return randomString;
}

var vdurl = null;
var screenhide_used = 0;
var currenthidescroll = 0;
var webTitleSet = "";

function hideScreenToggle(toggle){
    if(toggle){
        try {
            $("#hidescreen-iframe")[0].contentWindow.hsShown();
        }catch(err){
            console.log("oops");
        }
        localStorage.setItem('hs_enabled',true);
        localStorage.setItem('num_hs_performed', JSON.stringify(JSON.parse(localStorage.getItem('num_hs_performed'))+1));
        localStorage.setItem('hs_last_exec', JSON.stringify(Math.floor(Date.now() / 1000)));
        history.pushState({id: ''}, '', '/?https://news.google.com/'+randomString(106));
        if($("#panel-virtual-browser iframe").length > 0){
            $("#panel-virtual-browser iframe")[0].contentWindow.postMessage("hidescreen", "*");
        }
        $("link[rel='icon'], link[rel='apple-touch-icon'], link[rel='shortcut icon']").attr("href","dist/img/osrs/icons/google-news-favicon.png");
        document.title = "Google News";
    }else{
        currenthidescroll = $("#hidescreen-iframe")[0].contentWindow.$('body').scrollTop();
        $("#hidescreen").hide();
        $(".brand-link").focus();
        history.pushState({id: ''}, '', '/');
        localStorage.setItem('hs_enabled',false);
        $("#hidescreen-iframe")[0].contentWindow.$('#settingsMenu').hide();
        if($("#panel-virtual-browser iframe").length > 0){
            $("#panel-virtual-browser iframe")[0].contentWindow.postMessage("unhidescreen", "*");
        }
        $("link[rel='icon'], link[rel='apple-touch-icon'], link[rel='shortcut icon']").attr("href","dist/img/favicons/favicon-32x32.png");
        //$("link[rel='shortcut icon']").attr("href","dist/img/favicon/favicon.ico");
        document.title = webTitleSet;
    }
    // Mute client window
    if ($("#panel-client iframe").length > 0) {     
        $("#panel-client iframe").contents()[0].defaultView.toggleMute();
    }
}

function hideScreen(toggle, notice=true){
    if($("#hidescreen-iframe").attr("src") == ""){
        alert("Background tasks are still loading...\n\nPlease try again in a few seconds once everything is loaded.");
        return;
    }
    if(webTitleSet == ""){
        webTitleSet = $('title').text();
    }
    if($("#hidescreen").is(":visible")){
        hideScreenToggle(false);
        return;
    }
    if(toggle == true){
        $("#hidescreen").show();
        try {
            $("#hidescreen-iframe")[0].contentWindow.$('body').scrollTop(currenthidescroll);
        }catch(err){
            console.log("oops");
        }
        $("#hidescreen-iframe")[0].contentWindow.document.body.focus();        
        screenhide_used = screenhide_used+1;
        if(screenhide_used < 2){
            try {
                $("#hidescreen-iframe")[0].contentWindow.sendNotification("Press CTRL+SPACE to toggle this window", 5000);
            }catch(err){
                console.log("oops");
            }
        }
        hideScreenToggle(true);
    }else{
        hideScreenToggle(false);
    }
}

$(window).on('load', function() {
    $('#hidescreen-iframe').attr('src', "misc/google-news/news");
    // Check if the cookie already exists
    var cookie = document.cookie.replace(/(?:(?:^|.*;\s*)sh_pageLoads\s*\=\s*([^;]*).*$)|^.*$/, "$1");
    if (cookie == "") {
        var cookie = 0;
    }
    if(parseInt(cookie) < 2){
        // The cookie exists, so increment its value
        var pageLoads = parseInt(cookie) + 1;
        document.cookie = "sh_pageLoads=" + pageLoads + "; expires=" + new Date(Date.now() + (7 * 24 * 60 * 60 * 1000)).toUTCString() + "; path=/";
    }
    // Check if the user has reached their 3rd page load
    if (parseInt(cookie)+1 === 2) {
        setTimeout(function() {
            infoModal("", "<div class='text-center text-xl mb-3'><i class='fas fa-mask mr-2'></i> Screen Hide</div>You can now easily hide your current screen by activating <i>Screen Hide</i>. This displays a Google News page on your current display. <br><br>This can be used by pressing <span class='ml-1 mr-1 text-warning font-weight-bold' style='letter-spacing: 2px;'>CTRL + SPACE</span> at anytime on the website to activate/deactivate.<br><div class='text-center'><img src='dist/img/osrs/ctrlspace.png'></div> <div class='text-center mt-4'><span class='btn btn-block bg-gradient-light font-weight-bold' data-dismiss='modal'><i class='fas fa-check-circle mr-2'></i> Awesome, got it</span></div>", "", "");
        }, 5000);
    }
});

$(document).ready(function(){
    var hidescreenlastframe = null;
    if(localStorage.getItem('hs_enabled') == 'true'){
        infoModal("", "You don't need to keep refreshing the page to unhide your screen. Just simply press CTRL+SPACE again to undo. <div class='text-center mt-4'><span class='btn btn-block bg-gradient-light font-weight-bold' data-dismiss='modal'><i class='fas fa-check-circle mr-2'></i> Awesome, got it</span>", "", "");
        localStorage.setItem('hs_enabled',false);
    }

    $("body").on("DOMNodeInserted", ".tab-pane", function(event) {
        $(".tab-pane iframe:last").on("load", function(){
            hidescreenlastframe = event;
            $(this).contents().find("body").keyup(function(e) {
                if ((e.metaKey || e.ctrlKey) && e.which == 32) {
                    hideScreen(true);
                }
            });
        });
    });
});

$(document).on('keydown', function ( e ) {
    if ((e.metaKey || e.ctrlKey) && e.which == 32) {
        hideScreen(true);
    }
});
</script>

</body>
</html>
